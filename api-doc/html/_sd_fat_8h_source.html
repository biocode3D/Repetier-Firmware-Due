<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Repetier-Firmware: Repetier/SdFat.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="repetier-logo-trans128.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Repetier-Firmware
   &#160;<span id="projectnumber">0.80</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_sd_fat_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Repetier/SdFat.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_sd_fat_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Arduino SdFat Library</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 2012 by William Greiman</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This file is part of the Arduino SdFat Library</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This Library is free software: you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00008"></a>00008 <span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00009"></a>00009 <span class="comment"> * (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * This Library is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * along with the Arduino SdFat Library.  If not, see</span>
<a name="l00018"></a>00018 <span class="comment"> * &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00019"></a>00019 <span class="comment"> */</span>
<a name="l00020"></a>00020 <span class="comment">/* Arduino SdFat Library</span>
<a name="l00021"></a>00021 <span class="comment"> * Copyright (C) 2012 by William Greiman</span>
<a name="l00022"></a>00022 <span class="comment"> *  </span>
<a name="l00023"></a>00023 <span class="comment"> * This file is part of the Arduino SdFat Library</span>
<a name="l00024"></a>00024 <span class="comment"> *  </span>
<a name="l00025"></a>00025 <span class="comment"> * This Library is free software: you can redistribute it and/or modify </span>
<a name="l00026"></a>00026 <span class="comment"> * it under the terms of the GNU General Public License as published by </span>
<a name="l00027"></a>00027 <span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00028"></a>00028 <span class="comment"> * (at your option) any later version.</span>
<a name="l00029"></a>00029 <span class="comment"> * </span>
<a name="l00030"></a>00030 <span class="comment"> * This Library is distributed in the hope that it will be useful,</span>
<a name="l00031"></a>00031 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00032"></a>00032 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00033"></a>00033 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00034"></a>00034 <span class="comment"> *</span>
<a name="l00035"></a>00035 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00036"></a>00036 <span class="comment"> * along with the Arduino SdFat Library.  If not, see</span>
<a name="l00037"></a>00037 <span class="comment"> * &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00038"></a>00038 <span class="comment"> */</span>
<a name="l00039"></a>00039 
<a name="l00247"></a>00247 <span class="preprocessor">#ifndef SdFat_h</span>
<a name="l00248"></a>00248 <span class="preprocessor"></span><span class="preprocessor">#define SdFat_h</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span>
<a name="l00253"></a>00253 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00255"></a><a class="code" href="_sd_fat_8h.html#aca25ecce379f446043bdee2c55304210">00255</a> <span class="comment"></span><span class="preprocessor">#define SD_FAT_VERSION 20120719</span>
<a name="l00256"></a>00256 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00258"></a>00258 <span class="comment"></span><span class="preprocessor">#if !defined(ARDUINO) || ARDUINO &lt; 100</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span><span class="preprocessor">#error Arduino IDE must be 1.0 or greater</span>
<a name="l00260"></a>00260 <span class="preprocessor"></span><span class="preprocessor">#endif  // ARDUINO &lt; 100</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00262"></a>00262 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00263"></a>00263 <span class="comment">// Based on the document:</span>
<a name="l00264"></a>00264 <span class="comment">//</span>
<a name="l00265"></a>00265 <span class="comment">// SD Specifications</span>
<a name="l00266"></a>00266 <span class="comment">// Part 1</span>
<a name="l00267"></a>00267 <span class="comment">// Physical Layer</span>
<a name="l00268"></a>00268 <span class="comment">// Simplified Specification</span>
<a name="l00269"></a>00269 <span class="comment">// Version 3.01</span>
<a name="l00270"></a>00270 <span class="comment">// May 18, 2010</span>
<a name="l00271"></a>00271 <span class="comment">//</span>
<a name="l00272"></a>00272 <span class="comment">// http://www.sdcard.org/developers/tech/sdcard/pls/simplified_specs</span>
<a name="l00273"></a>00273 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00274"></a>00274 <span class="comment">// SD card commands</span>
<a name="l00276"></a><a class="code" href="_sd_fat_8h.html#a1ec3c92c9dd38b0efa9126be38850d29">00276</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a1ec3c92c9dd38b0efa9126be38850d29">CMD0</a> = 0X00;
<a name="l00278"></a><a class="code" href="_sd_fat_8h.html#a5555048921d7792941f6cde88d5c8e36">00278</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a5555048921d7792941f6cde88d5c8e36">CMD8</a> = 0X08;
<a name="l00280"></a><a class="code" href="_sd_fat_8h.html#afdee4fb07dae3bf93f0e9a0d9987143e">00280</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#afdee4fb07dae3bf93f0e9a0d9987143e">CMD9</a> = 0X09;
<a name="l00282"></a><a class="code" href="_sd_fat_8h.html#a7228ab7c6f05aac53cf844e8e4a9a121">00282</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a7228ab7c6f05aac53cf844e8e4a9a121">CMD10</a> = 0X0A;
<a name="l00284"></a><a class="code" href="_sd_fat_8h.html#a5aceb9f83aec1d7d6d695ef0bc22b39c">00284</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a5aceb9f83aec1d7d6d695ef0bc22b39c">CMD12</a> = 0X0C;
<a name="l00286"></a><a class="code" href="_sd_fat_8h.html#a0a4b464ebac5e07eb233da545ff29259">00286</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a0a4b464ebac5e07eb233da545ff29259">CMD13</a> = 0X0D;
<a name="l00288"></a><a class="code" href="_sd_fat_8h.html#ab5e57c3b26526169eb6f2150a23adfe4">00288</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ab5e57c3b26526169eb6f2150a23adfe4">CMD17</a> = 0X11;
<a name="l00290"></a><a class="code" href="_sd_fat_8h.html#a411a50a6bdd19b71c57c8df91cfde253">00290</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a411a50a6bdd19b71c57c8df91cfde253">CMD18</a> = 0X12;
<a name="l00292"></a><a class="code" href="_sd_fat_8h.html#ae0b9ab3c62fefc845e22834eb7f6abdd">00292</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ae0b9ab3c62fefc845e22834eb7f6abdd">CMD24</a> = 0X18;
<a name="l00294"></a><a class="code" href="_sd_fat_8h.html#ac93a7f0b1843211d8fb003038c1db20f">00294</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac93a7f0b1843211d8fb003038c1db20f">CMD25</a> = 0X19;
<a name="l00296"></a><a class="code" href="_sd_fat_8h.html#a120c7957c30e8c619360c7bab8ba0e58">00296</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a120c7957c30e8c619360c7bab8ba0e58">CMD32</a> = 0X20;
<a name="l00299"></a><a class="code" href="_sd_fat_8h.html#aa6202b0708714b643336fcf4d3036e23">00299</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#aa6202b0708714b643336fcf4d3036e23">CMD33</a> = 0X21;
<a name="l00301"></a><a class="code" href="_sd_fat_8h.html#aa5e07e08a8cccb47d966cff9d19f5f12">00301</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#aa5e07e08a8cccb47d966cff9d19f5f12">CMD38</a> = 0X26;
<a name="l00303"></a><a class="code" href="_sd_fat_8h.html#a6e3cb1cf62a815db82fe9f343a4cb1a4">00303</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a6e3cb1cf62a815db82fe9f343a4cb1a4">CMD55</a> = 0X37;
<a name="l00305"></a><a class="code" href="_sd_fat_8h.html#a65360b0848046db96c7a3a38ea77b027">00305</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a65360b0848046db96c7a3a38ea77b027">CMD58</a> = 0X3A;
<a name="l00307"></a><a class="code" href="_sd_fat_8h.html#a87cd0b798025b0187c44f11cd52feb43">00307</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a87cd0b798025b0187c44f11cd52feb43">CMD59</a> = 0X3B;
<a name="l00310"></a><a class="code" href="_sd_fat_8h.html#a4427a8b94a0a6092255388a8666c42eb">00310</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a4427a8b94a0a6092255388a8666c42eb">ACMD23</a> = 0X17;
<a name="l00313"></a><a class="code" href="_sd_fat_8h.html#a3d9453bff2059b4175f09e82220d5dc5">00313</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a3d9453bff2059b4175f09e82220d5dc5">ACMD41</a> = 0X29;
<a name="l00314"></a>00314 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00316"></a><a class="code" href="_sd_fat_8h.html#abd9bae6aca26cbe7e75dac573bb98ed9">00316</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#abd9bae6aca26cbe7e75dac573bb98ed9">R1_READY_STATE</a> = 0X00;
<a name="l00318"></a><a class="code" href="_sd_fat_8h.html#a180d34bf6496bc49f34e750d3878c528">00318</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a180d34bf6496bc49f34e750d3878c528">R1_IDLE_STATE</a> = 0X01;
<a name="l00320"></a><a class="code" href="_sd_fat_8h.html#a0299085ef0457c2d8714c838beaead80">00320</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a0299085ef0457c2d8714c838beaead80">R1_ILLEGAL_COMMAND</a> = 0X04;
<a name="l00322"></a><a class="code" href="_sd_fat_8h.html#a266235d83a613a26790bf21cc5e643e7">00322</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a266235d83a613a26790bf21cc5e643e7">DATA_START_BLOCK</a> = 0XFE;
<a name="l00324"></a><a class="code" href="_sd_fat_8h.html#a22cd4350449d8c6e4ed71ddaa86d4482">00324</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a22cd4350449d8c6e4ed71ddaa86d4482">STOP_TRAN_TOKEN</a> = 0XFD;
<a name="l00326"></a><a class="code" href="_sd_fat_8h.html#a55a97e38f040eaef5ea72c04ed0b8ca3">00326</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a55a97e38f040eaef5ea72c04ed0b8ca3">WRITE_MULTIPLE_TOKEN</a> = 0XFC;
<a name="l00328"></a><a class="code" href="_sd_fat_8h.html#ae8f749cad9dfa06c4a44435bac117183">00328</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ae8f749cad9dfa06c4a44435bac117183">DATA_RES_MASK</a> = 0X1F;
<a name="l00330"></a><a class="code" href="_sd_fat_8h.html#a0fbc8534d6683fea65b463f439df1c3d">00330</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a0fbc8534d6683fea65b463f439df1c3d">DATA_RES_ACCEPTED</a> = 0X05;
<a name="l00331"></a>00331 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00333"></a><a class="code" href="struct_c_i_d.html">00333</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_c_i_d.html">CID</a> {
<a name="l00334"></a>00334   <span class="comment">// byte 0</span>
<a name="l00336"></a><a class="code" href="struct_c_i_d.html#ae7e18f9a317db7063e35ef5a5d4bd5f7">00336</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#ae7e18f9a317db7063e35ef5a5d4bd5f7">mid</a>;
<a name="l00337"></a>00337   <span class="comment">// byte 1-2</span>
<a name="l00339"></a><a class="code" href="struct_c_i_d.html#a0e7c3c74464b5888d6e4dde057c4d2c9">00339</a> <span class="comment"></span>  <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a0e7c3c74464b5888d6e4dde057c4d2c9">oid</a>[2];
<a name="l00340"></a>00340   <span class="comment">// byte 3-7</span>
<a name="l00342"></a><a class="code" href="struct_c_i_d.html#a44c58f891140614a2a6a1ad573ca0bf3">00342</a> <span class="comment"></span>  <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a44c58f891140614a2a6a1ad573ca0bf3">pnm</a>[5];
<a name="l00343"></a>00343   <span class="comment">// byte 8</span>
<a name="l00345"></a><a class="code" href="struct_c_i_d.html#a4db87c2ec4c352612dcf8cedf9986d8e">00345</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a4db87c2ec4c352612dcf8cedf9986d8e">prv_m</a> : 4;
<a name="l00347"></a><a class="code" href="struct_c_i_d.html#a1cb6a1abc2649d20b1f2e57dd1763997">00347</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a1cb6a1abc2649d20b1f2e57dd1763997">prv_n</a> : 4;
<a name="l00348"></a>00348   <span class="comment">// byte 9-12</span>
<a name="l00350"></a><a class="code" href="struct_c_i_d.html#ab39d64e654c57f0bc30ce636e071713a">00350</a> <span class="comment"></span>  uint32_t <a class="code" href="struct_c_i_d.html#ab39d64e654c57f0bc30ce636e071713a">psn</a>;
<a name="l00351"></a>00351   <span class="comment">// byte 13</span>
<a name="l00353"></a><a class="code" href="struct_c_i_d.html#a5e4772a445bb5e242f62d89ed9fa01bb">00353</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a5e4772a445bb5e242f62d89ed9fa01bb">mdt_year_high</a> : 4;
<a name="l00355"></a><a class="code" href="struct_c_i_d.html#ad828f5fe7507f2e5a9df0da7a74b59e8">00355</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#ad828f5fe7507f2e5a9df0da7a74b59e8">reserved</a> : 4;
<a name="l00356"></a>00356   <span class="comment">// byte 14</span>
<a name="l00358"></a><a class="code" href="struct_c_i_d.html#a6f31f0414d7c277a8f3ac4a8e7a83101">00358</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#a6f31f0414d7c277a8f3ac4a8e7a83101">mdt_month</a> : 4;
<a name="l00360"></a><a class="code" href="struct_c_i_d.html#aaf6f6e0f7e73844d7d2a59b3e7f3b6de">00360</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#aaf6f6e0f7e73844d7d2a59b3e7f3b6de">mdt_year_low</a> :4;
<a name="l00361"></a>00361   <span class="comment">// byte 15</span>
<a name="l00363"></a><a class="code" href="struct_c_i_d.html#af3bbe76c61e108c500f5a861dff1e6c2">00363</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#af3bbe76c61e108c500f5a861dff1e6c2">always1</a> : 1;
<a name="l00365"></a><a class="code" href="struct_c_i_d.html#aa7963a1d695d609cf3609747cf19fd71">00365</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_i_d.html#aa7963a1d695d609cf3609747cf19fd71">crc</a> : 7;
<a name="l00366"></a>00366 }<a class="code" href="_sd_fat_8h.html#a7f1c4653597f0e5276671139a3592dcd">cid_t</a>;
<a name="l00367"></a>00367 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00369"></a><a class="code" href="struct_c_s_d_v1.html">00369</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_c_s_d_v1.html">CSDV1</a> {
<a name="l00370"></a>00370   <span class="comment">// byte 0</span>
<a name="l00371"></a><a class="code" href="struct_c_s_d_v1.html#affe215a7220b2d52fb9dacf3b35e56dc">00371</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#affe215a7220b2d52fb9dacf3b35e56dc">reserved1</a> : 6;
<a name="l00372"></a><a class="code" href="struct_c_s_d_v1.html#a468f68d66a14a0e3d70ae9dce7c7b084">00372</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a468f68d66a14a0e3d70ae9dce7c7b084">csd_ver</a> : 2;
<a name="l00373"></a>00373   <span class="comment">// byte 1</span>
<a name="l00374"></a><a class="code" href="struct_c_s_d_v1.html#add15a5302761bd6e2ee294c0c38e9f8a">00374</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#add15a5302761bd6e2ee294c0c38e9f8a">taac</a>;
<a name="l00375"></a>00375   <span class="comment">// byte 2</span>
<a name="l00376"></a><a class="code" href="struct_c_s_d_v1.html#a877524d1f9ede3c07079957826d08a1e">00376</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a877524d1f9ede3c07079957826d08a1e">nsac</a>;
<a name="l00377"></a>00377   <span class="comment">// byte 3</span>
<a name="l00378"></a><a class="code" href="struct_c_s_d_v1.html#af83be4d825b2e325d094297e81693443">00378</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#af83be4d825b2e325d094297e81693443">tran_speed</a>;
<a name="l00379"></a>00379   <span class="comment">// byte 4</span>
<a name="l00380"></a><a class="code" href="struct_c_s_d_v1.html#a76b00b1b0657aefa115a98f122aca8c5">00380</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a76b00b1b0657aefa115a98f122aca8c5">ccc_high</a>;
<a name="l00381"></a>00381   <span class="comment">// byte 5</span>
<a name="l00382"></a><a class="code" href="struct_c_s_d_v1.html#af43ab7cd256a4134cd3b78bdecb9d7c5">00382</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#af43ab7cd256a4134cd3b78bdecb9d7c5">read_bl_len</a> : 4;
<a name="l00383"></a><a class="code" href="struct_c_s_d_v1.html#ad38ba451d9647c41a9b60a2f7a61e9d4">00383</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#ad38ba451d9647c41a9b60a2f7a61e9d4">ccc_low</a> : 4;
<a name="l00384"></a>00384   <span class="comment">// byte 6</span>
<a name="l00385"></a><a class="code" href="struct_c_s_d_v1.html#a8ca62fc4ed0f6598005209d3c34f9c44">00385</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a8ca62fc4ed0f6598005209d3c34f9c44">c_size_high</a> : 2;
<a name="l00386"></a><a class="code" href="struct_c_s_d_v1.html#add22350e7fe29ca6649dd6564e8425ea">00386</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#add22350e7fe29ca6649dd6564e8425ea">reserved2</a> : 2;
<a name="l00387"></a><a class="code" href="struct_c_s_d_v1.html#adca766448ce5830490363d3fbb02ab4b">00387</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#adca766448ce5830490363d3fbb02ab4b">dsr_imp</a> : 1;
<a name="l00388"></a><a class="code" href="struct_c_s_d_v1.html#a31c0f3174289d3fb8abade294770fc33">00388</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a31c0f3174289d3fb8abade294770fc33">read_blk_misalign</a> :1;
<a name="l00389"></a><a class="code" href="struct_c_s_d_v1.html#a5fd0cab21c874fd49fc4ea5d537be201">00389</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a5fd0cab21c874fd49fc4ea5d537be201">write_blk_misalign</a> : 1;
<a name="l00390"></a><a class="code" href="struct_c_s_d_v1.html#a7387a4ab3ec1161c246ed02941e1325e">00390</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a7387a4ab3ec1161c246ed02941e1325e">read_bl_partial</a> : 1;
<a name="l00391"></a>00391   <span class="comment">// byte 7</span>
<a name="l00392"></a><a class="code" href="struct_c_s_d_v1.html#a8cd3e8cdbf34be110b1d87b0c5f7b1d8">00392</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a8cd3e8cdbf34be110b1d87b0c5f7b1d8">c_size_mid</a>;
<a name="l00393"></a>00393   <span class="comment">// byte 8</span>
<a name="l00394"></a><a class="code" href="struct_c_s_d_v1.html#a68aafd29ea70955c274ebeb0364b4033">00394</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a68aafd29ea70955c274ebeb0364b4033">vdd_r_curr_max</a> : 3;
<a name="l00395"></a><a class="code" href="struct_c_s_d_v1.html#a0e5dbcfa1434c0d43a5f71067b54377a">00395</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a0e5dbcfa1434c0d43a5f71067b54377a">vdd_r_curr_min</a> : 3;
<a name="l00396"></a><a class="code" href="struct_c_s_d_v1.html#a2af914ea8fe2b045432553e2d7c75bb7">00396</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a2af914ea8fe2b045432553e2d7c75bb7">c_size_low</a> :2;
<a name="l00397"></a>00397   <span class="comment">// byte 9</span>
<a name="l00398"></a><a class="code" href="struct_c_s_d_v1.html#a7428d75741e0eb9add87c4a2f672581e">00398</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a7428d75741e0eb9add87c4a2f672581e">c_size_mult_high</a> : 2;
<a name="l00399"></a><a class="code" href="struct_c_s_d_v1.html#aa018db4afbad1a906ffc7c2f16e949b6">00399</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#aa018db4afbad1a906ffc7c2f16e949b6">vdd_w_cur_max</a> : 3;
<a name="l00400"></a><a class="code" href="struct_c_s_d_v1.html#a17680224cd64eb6021437f4955b6392b">00400</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a17680224cd64eb6021437f4955b6392b">vdd_w_curr_min</a> : 3;
<a name="l00401"></a>00401   <span class="comment">// byte 10</span>
<a name="l00402"></a><a class="code" href="struct_c_s_d_v1.html#a2580a4c6ddd99928402db34c2f650033">00402</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a2580a4c6ddd99928402db34c2f650033">sector_size_high</a> : 6;
<a name="l00403"></a><a class="code" href="struct_c_s_d_v1.html#aa0ada858f4a1455c6cb4e9b7523d8fd1">00403</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#aa0ada858f4a1455c6cb4e9b7523d8fd1">erase_blk_en</a> : 1;
<a name="l00404"></a><a class="code" href="struct_c_s_d_v1.html#a6ac71fb99912431be5df16b72a8f75e4">00404</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a6ac71fb99912431be5df16b72a8f75e4">c_size_mult_low</a> : 1;
<a name="l00405"></a>00405   <span class="comment">// byte 11</span>
<a name="l00406"></a><a class="code" href="struct_c_s_d_v1.html#a3574bbe4ccfc7f26daa84efd98a9ff4c">00406</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a3574bbe4ccfc7f26daa84efd98a9ff4c">wp_grp_size</a> : 7;
<a name="l00407"></a><a class="code" href="struct_c_s_d_v1.html#afcbc43e43942a772e79ef2aa55e37650">00407</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#afcbc43e43942a772e79ef2aa55e37650">sector_size_low</a> : 1;
<a name="l00408"></a>00408   <span class="comment">// byte 12</span>
<a name="l00409"></a><a class="code" href="struct_c_s_d_v1.html#af31036ae33a6db8cf3db322fef249b48">00409</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#af31036ae33a6db8cf3db322fef249b48">write_bl_len_high</a> : 2;
<a name="l00410"></a><a class="code" href="struct_c_s_d_v1.html#acbc1184d8705d3631d9492f927ccb8e8">00410</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#acbc1184d8705d3631d9492f927ccb8e8">r2w_factor</a> : 3;
<a name="l00411"></a><a class="code" href="struct_c_s_d_v1.html#a6525406821be82277577a768a2d4e904">00411</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a6525406821be82277577a768a2d4e904">reserved3</a> : 2;
<a name="l00412"></a><a class="code" href="struct_c_s_d_v1.html#ab4247b023129bd89e0cebe8508b35f0a">00412</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#ab4247b023129bd89e0cebe8508b35f0a">wp_grp_enable</a> : 1;
<a name="l00413"></a>00413   <span class="comment">// byte 13</span>
<a name="l00414"></a><a class="code" href="struct_c_s_d_v1.html#a1dcde2e7c54e279f4d7aac27d130cc17">00414</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a1dcde2e7c54e279f4d7aac27d130cc17">reserved4</a> : 5;
<a name="l00415"></a><a class="code" href="struct_c_s_d_v1.html#a062890f25943538976760e7db822a635">00415</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a062890f25943538976760e7db822a635">write_partial</a> : 1;
<a name="l00416"></a><a class="code" href="struct_c_s_d_v1.html#ad61c0325b9602bdb15cf59b69fc4a67f">00416</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#ad61c0325b9602bdb15cf59b69fc4a67f">write_bl_len_low</a> : 2;
<a name="l00417"></a>00417   <span class="comment">// byte 14</span>
<a name="l00418"></a><a class="code" href="struct_c_s_d_v1.html#a6dd54d3f51fc8f0916d8882851d26d91">00418</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a6dd54d3f51fc8f0916d8882851d26d91">reserved5</a>: 2;
<a name="l00419"></a><a class="code" href="struct_c_s_d_v1.html#aa1a7dd102774cf915cbe66010250253d">00419</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#aa1a7dd102774cf915cbe66010250253d">file_format</a> : 2;
<a name="l00420"></a><a class="code" href="struct_c_s_d_v1.html#a0d4a26aaf05de47ca630a0976e897f90">00420</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a0d4a26aaf05de47ca630a0976e897f90">tmp_write_protect</a> : 1;
<a name="l00421"></a><a class="code" href="struct_c_s_d_v1.html#a674d846d31b5a170bf7b2a27d8c8856a">00421</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a674d846d31b5a170bf7b2a27d8c8856a">perm_write_protect</a> : 1;
<a name="l00422"></a><a class="code" href="struct_c_s_d_v1.html#a0ff3051eb9cb79426196331363674fa7">00422</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#a0ff3051eb9cb79426196331363674fa7">copy</a> : 1;
<a name="l00424"></a><a class="code" href="struct_c_s_d_v1.html#aa44f7b6ef5fd710a716fa9ef045c68f0">00424</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#aa44f7b6ef5fd710a716fa9ef045c68f0">file_format_grp</a> : 1;
<a name="l00425"></a>00425   <span class="comment">// byte 15</span>
<a name="l00426"></a><a class="code" href="struct_c_s_d_v1.html#af3bbe76c61e108c500f5a861dff1e6c2">00426</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#af3bbe76c61e108c500f5a861dff1e6c2">always1</a> : 1;
<a name="l00427"></a><a class="code" href="struct_c_s_d_v1.html#aa7963a1d695d609cf3609747cf19fd71">00427</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v1.html#aa7963a1d695d609cf3609747cf19fd71">crc</a> : 7;
<a name="l00428"></a>00428 }<a class="code" href="_sd_fat_8h.html#a4dc5a2aea3d7715c82094bce06e1b3a7">csd1_t</a>;
<a name="l00429"></a>00429 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00431"></a><a class="code" href="struct_c_s_d_v2.html">00431</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_c_s_d_v2.html">CSDV2</a> {
<a name="l00432"></a>00432   <span class="comment">// byte 0</span>
<a name="l00433"></a><a class="code" href="struct_c_s_d_v2.html#affe215a7220b2d52fb9dacf3b35e56dc">00433</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#affe215a7220b2d52fb9dacf3b35e56dc">reserved1</a> : 6;
<a name="l00434"></a><a class="code" href="struct_c_s_d_v2.html#a468f68d66a14a0e3d70ae9dce7c7b084">00434</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a468f68d66a14a0e3d70ae9dce7c7b084">csd_ver</a> : 2;
<a name="l00435"></a>00435   <span class="comment">// byte 1</span>
<a name="l00437"></a><a class="code" href="struct_c_s_d_v2.html#add15a5302761bd6e2ee294c0c38e9f8a">00437</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#add15a5302761bd6e2ee294c0c38e9f8a">taac</a>;
<a name="l00438"></a>00438   <span class="comment">// byte 2</span>
<a name="l00440"></a><a class="code" href="struct_c_s_d_v2.html#a877524d1f9ede3c07079957826d08a1e">00440</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a877524d1f9ede3c07079957826d08a1e">nsac</a>;
<a name="l00441"></a>00441   <span class="comment">// byte 3</span>
<a name="l00442"></a><a class="code" href="struct_c_s_d_v2.html#af83be4d825b2e325d094297e81693443">00442</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#af83be4d825b2e325d094297e81693443">tran_speed</a>;
<a name="l00443"></a>00443   <span class="comment">// byte 4</span>
<a name="l00444"></a><a class="code" href="struct_c_s_d_v2.html#a76b00b1b0657aefa115a98f122aca8c5">00444</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a76b00b1b0657aefa115a98f122aca8c5">ccc_high</a>;
<a name="l00445"></a>00445   <span class="comment">// byte 5</span>
<a name="l00447"></a><a class="code" href="struct_c_s_d_v2.html#af43ab7cd256a4134cd3b78bdecb9d7c5">00447</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#af43ab7cd256a4134cd3b78bdecb9d7c5">read_bl_len</a> : 4;
<a name="l00448"></a><a class="code" href="struct_c_s_d_v2.html#ad38ba451d9647c41a9b60a2f7a61e9d4">00448</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#ad38ba451d9647c41a9b60a2f7a61e9d4">ccc_low</a> : 4;
<a name="l00449"></a>00449   <span class="comment">// byte 6</span>
<a name="l00451"></a><a class="code" href="struct_c_s_d_v2.html#add22350e7fe29ca6649dd6564e8425ea">00451</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#add22350e7fe29ca6649dd6564e8425ea">reserved2</a> : 4;
<a name="l00452"></a><a class="code" href="struct_c_s_d_v2.html#adca766448ce5830490363d3fbb02ab4b">00452</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#adca766448ce5830490363d3fbb02ab4b">dsr_imp</a> : 1;
<a name="l00454"></a><a class="code" href="struct_c_s_d_v2.html#a31c0f3174289d3fb8abade294770fc33">00454</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a31c0f3174289d3fb8abade294770fc33">read_blk_misalign</a> :1;
<a name="l00456"></a><a class="code" href="struct_c_s_d_v2.html#a5fd0cab21c874fd49fc4ea5d537be201">00456</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a5fd0cab21c874fd49fc4ea5d537be201">write_blk_misalign</a> : 1;
<a name="l00458"></a><a class="code" href="struct_c_s_d_v2.html#a7387a4ab3ec1161c246ed02941e1325e">00458</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a7387a4ab3ec1161c246ed02941e1325e">read_bl_partial</a> : 1;
<a name="l00459"></a>00459   <span class="comment">// byte 7</span>
<a name="l00461"></a><a class="code" href="struct_c_s_d_v2.html#a8ca62fc4ed0f6598005209d3c34f9c44">00461</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a8ca62fc4ed0f6598005209d3c34f9c44">c_size_high</a> : 6;
<a name="l00463"></a><a class="code" href="struct_c_s_d_v2.html#a6525406821be82277577a768a2d4e904">00463</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a6525406821be82277577a768a2d4e904">reserved3</a> : 2;
<a name="l00464"></a>00464   <span class="comment">// byte 8</span>
<a name="l00466"></a><a class="code" href="struct_c_s_d_v2.html#a8cd3e8cdbf34be110b1d87b0c5f7b1d8">00466</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a8cd3e8cdbf34be110b1d87b0c5f7b1d8">c_size_mid</a>;
<a name="l00467"></a>00467   <span class="comment">// byte 9</span>
<a name="l00469"></a><a class="code" href="struct_c_s_d_v2.html#a2af914ea8fe2b045432553e2d7c75bb7">00469</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a2af914ea8fe2b045432553e2d7c75bb7">c_size_low</a>;
<a name="l00470"></a>00470   <span class="comment">// byte 10</span>
<a name="l00472"></a><a class="code" href="struct_c_s_d_v2.html#a2580a4c6ddd99928402db34c2f650033">00472</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a2580a4c6ddd99928402db34c2f650033">sector_size_high</a> : 6;
<a name="l00474"></a><a class="code" href="struct_c_s_d_v2.html#aa0ada858f4a1455c6cb4e9b7523d8fd1">00474</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#aa0ada858f4a1455c6cb4e9b7523d8fd1">erase_blk_en</a> : 1;
<a name="l00476"></a><a class="code" href="struct_c_s_d_v2.html#a1dcde2e7c54e279f4d7aac27d130cc17">00476</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a1dcde2e7c54e279f4d7aac27d130cc17">reserved4</a> : 1;
<a name="l00477"></a>00477   <span class="comment">// byte 11</span>
<a name="l00478"></a><a class="code" href="struct_c_s_d_v2.html#a3574bbe4ccfc7f26daa84efd98a9ff4c">00478</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a3574bbe4ccfc7f26daa84efd98a9ff4c">wp_grp_size</a> : 7;
<a name="l00480"></a><a class="code" href="struct_c_s_d_v2.html#afcbc43e43942a772e79ef2aa55e37650">00480</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#afcbc43e43942a772e79ef2aa55e37650">sector_size_low</a> : 1;
<a name="l00481"></a>00481   <span class="comment">// byte 12</span>
<a name="l00483"></a><a class="code" href="struct_c_s_d_v2.html#af31036ae33a6db8cf3db322fef249b48">00483</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#af31036ae33a6db8cf3db322fef249b48">write_bl_len_high</a> : 2;
<a name="l00485"></a><a class="code" href="struct_c_s_d_v2.html#acbc1184d8705d3631d9492f927ccb8e8">00485</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#acbc1184d8705d3631d9492f927ccb8e8">r2w_factor</a> : 3;
<a name="l00487"></a><a class="code" href="struct_c_s_d_v2.html#a6dd54d3f51fc8f0916d8882851d26d91">00487</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a6dd54d3f51fc8f0916d8882851d26d91">reserved5</a> : 2;
<a name="l00489"></a><a class="code" href="struct_c_s_d_v2.html#ab4247b023129bd89e0cebe8508b35f0a">00489</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#ab4247b023129bd89e0cebe8508b35f0a">wp_grp_enable</a> : 1;
<a name="l00490"></a>00490   <span class="comment">// byte 13</span>
<a name="l00491"></a><a class="code" href="struct_c_s_d_v2.html#aa8656feb1159d94a13733e19da33d258">00491</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#aa8656feb1159d94a13733e19da33d258">reserved6</a> : 5;
<a name="l00493"></a><a class="code" href="struct_c_s_d_v2.html#a062890f25943538976760e7db822a635">00493</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a062890f25943538976760e7db822a635">write_partial</a> : 1;
<a name="l00495"></a><a class="code" href="struct_c_s_d_v2.html#ad61c0325b9602bdb15cf59b69fc4a67f">00495</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#ad61c0325b9602bdb15cf59b69fc4a67f">write_bl_len_low</a> : 2;
<a name="l00496"></a>00496   <span class="comment">// byte 14</span>
<a name="l00497"></a><a class="code" href="struct_c_s_d_v2.html#a88028b6a6993ea4c35717196f8e16a9e">00497</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a88028b6a6993ea4c35717196f8e16a9e">reserved7</a>: 2;
<a name="l00499"></a><a class="code" href="struct_c_s_d_v2.html#aa1a7dd102774cf915cbe66010250253d">00499</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#aa1a7dd102774cf915cbe66010250253d">file_format</a> : 2;
<a name="l00500"></a><a class="code" href="struct_c_s_d_v2.html#a0d4a26aaf05de47ca630a0976e897f90">00500</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a0d4a26aaf05de47ca630a0976e897f90">tmp_write_protect</a> : 1;
<a name="l00501"></a><a class="code" href="struct_c_s_d_v2.html#a674d846d31b5a170bf7b2a27d8c8856a">00501</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a674d846d31b5a170bf7b2a27d8c8856a">perm_write_protect</a> : 1;
<a name="l00502"></a><a class="code" href="struct_c_s_d_v2.html#a0ff3051eb9cb79426196331363674fa7">00502</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#a0ff3051eb9cb79426196331363674fa7">copy</a> : 1;
<a name="l00504"></a><a class="code" href="struct_c_s_d_v2.html#aa44f7b6ef5fd710a716fa9ef045c68f0">00504</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#aa44f7b6ef5fd710a716fa9ef045c68f0">file_format_grp</a> : 1;
<a name="l00505"></a>00505   <span class="comment">// byte 15</span>
<a name="l00507"></a><a class="code" href="struct_c_s_d_v2.html#af3bbe76c61e108c500f5a861dff1e6c2">00507</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#af3bbe76c61e108c500f5a861dff1e6c2">always1</a> : 1;
<a name="l00509"></a><a class="code" href="struct_c_s_d_v2.html#aa7963a1d695d609cf3609747cf19fd71">00509</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_c_s_d_v2.html#aa7963a1d695d609cf3609747cf19fd71">crc</a> : 7;
<a name="l00510"></a>00510 }<a class="code" href="_sd_fat_8h.html#a3e07997926302b26d47ffb0535da9d01">csd2_t</a>;
<a name="l00511"></a>00511 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00513"></a><a class="code" href="unioncsd__t.html">00513</a> <span class="comment"></span><span class="keyword">union </span><a class="code" href="unioncsd__t.html">csd_t</a> {
<a name="l00514"></a><a class="code" href="unioncsd__t.html#a83f0a5c54ecca665792b1dde2c5c5325">00514</a>   <a class="code" href="struct_c_s_d_v1.html">csd1_t</a> <a class="code" href="unioncsd__t.html#a83f0a5c54ecca665792b1dde2c5c5325">v1</a>;
<a name="l00515"></a><a class="code" href="unioncsd__t.html#ae4e2f6d93a8c0d4607a94f6b2599c62c">00515</a>   <a class="code" href="struct_c_s_d_v2.html">csd2_t</a> <a class="code" href="unioncsd__t.html#ae4e2f6d93a8c0d4607a94f6b2599c62c">v2</a>;
<a name="l00516"></a>00516 };
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00526"></a><a class="code" href="_sd_fat_8h.html#af2e76ffb2fdb830175abf513dd640fdd">00526</a> <span class="comment"></span><span class="preprocessor">#define USE_SD_CRC 0</span>
<a name="l00527"></a>00527 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00535"></a><a class="code" href="_sd_fat_8h.html#ac6b66d035a552c981ab0db9006bdfb7b">00535</a> <span class="comment"></span><span class="preprocessor">#define USE_MULTIPLE_CARDS 0</span>
<a name="l00536"></a>00536 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00548"></a><a class="code" href="_sd_fat_8h.html#ab4b647a03aa38c5fcc2d6f8301410fce">00548</a> <span class="comment"></span><span class="preprocessor">#define USE_SERIAL_FOR_STD_OUT 0</span>
<a name="l00549"></a>00549 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00567"></a><a class="code" href="_sd_fat_8h.html#a270eefdaec4778f2a491658f34f61b17">00567</a> <span class="comment"></span><span class="preprocessor">#define ENDL_CALLS_FLUSH 0</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00572"></a><a class="code" href="_sd_fat_8h.html#af8ef36dfd023f41169baa17d05f55c56">00572</a> <span class="comment"></span><span class="preprocessor">#define ALLOW_DEPRECATED_FUNCTIONS 1</span>
<a name="l00573"></a>00573 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00578"></a><a class="code" href="_sd_fat_8h.html#a28998c5daf4bd038f4f93172698320b1">00578</a> <span class="comment"></span><span class="preprocessor">#define FAT12_SUPPORT 0</span>
<a name="l00579"></a>00579 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00584"></a><a class="code" href="_sd_fat_8h.html#aa94c2fdbafa7278baa2afa1c97dc6546">00584</a> <span class="comment"></span><span class="preprocessor">#define SPI_SD_INIT_RATE 5</span>
<a name="l00585"></a>00585 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00590"></a><a class="code" href="_sd_fat_8h.html#ab780c3f0584e602320e2f746f73e0d5d">00590</a> <span class="comment"></span><span class="preprocessor">#define SET_SPI_SS_HIGH 1</span>
<a name="l00591"></a>00591 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00601"></a><a class="code" href="_sd_fat_8h.html#ad3a00a466d2b81cff13c5447a09d704b">00601</a> <span class="comment"></span><span class="preprocessor">#define MEGA_SOFT_SPI 0</span>
<a name="l00602"></a>00602 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00612"></a><a class="code" href="_sd_fat_8h.html#a60a162fdb06d182b5cefc271d67ea765">00612</a> <span class="comment"></span><span class="preprocessor">#define LEONARDO_SOFT_SPI 0</span>
<a name="l00613"></a>00613 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00617"></a><a class="code" href="_sd_fat_8h.html#adc58bc95f1a1e044149d907287cb79a1">00617</a> <span class="comment"></span><span class="preprocessor">#define USE_SOFTWARE_SPI 0</span>
<a name="l00618"></a>00618 <span class="preprocessor"></span><span class="comment">// define software SPI pins so Mega can use unmodified 168/328 shields</span>
<a name="l00620"></a><a class="code" href="_sd_fat_8h.html#a5e0307dbc42b2444deedd558bcdd8933">00620</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a5e0307dbc42b2444deedd558bcdd8933">SOFT_SPI_CS_PIN</a> = 10;
<a name="l00622"></a><a class="code" href="_sd_fat_8h.html#ac2f492b4970ffbbea92d5d3e3f8aa2f0">00622</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac2f492b4970ffbbea92d5d3e3f8aa2f0">SOFT_SPI_MOSI_PIN</a> = 11;
<a name="l00624"></a><a class="code" href="_sd_fat_8h.html#af12e3a0d80cb8c7c9e3841887c508f3f">00624</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#af12e3a0d80cb8c7c9e3841887c508f3f">SOFT_SPI_MISO_PIN</a> = 12;
<a name="l00626"></a><a class="code" href="_sd_fat_8h.html#add7db7df22669e60cddd5698113d6327">00626</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#add7db7df22669e60cddd5698113d6327">SOFT_SPI_SCK_PIN</a> = 13;
<a name="l00627"></a>00627 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00628"></a>00628 <span class="comment">// SPI speed is F_CPU/2^(1 + index), 0 &lt;= index &lt;= 6</span>
<a name="l00630"></a><a class="code" href="_sd_fat_8h.html#a6c091c07d1eb82a94b1c5738f720264b">00630</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a6c091c07d1eb82a94b1c5738f720264b">SPI_FULL_SPEED</a> = 0;
<a name="l00632"></a><a class="code" href="_sd_fat_8h.html#abf126d9da3318e2709bbc3f2ab3cb3d1">00632</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#abf126d9da3318e2709bbc3f2ab3cb3d1">SPI_HALF_SPEED</a> = 1;
<a name="l00634"></a><a class="code" href="_sd_fat_8h.html#ad6a75e4ff6409fe1305ec6915787458e">00634</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ad6a75e4ff6409fe1305ec6915787458e">SPI_QUARTER_SPEED</a> = 2;
<a name="l00636"></a><a class="code" href="_sd_fat_8h.html#acf9e8ae5785dfdaa0fa59042e528ea6c">00636</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#acf9e8ae5785dfdaa0fa59042e528ea6c">SPI_EIGHTH_SPEED</a> = 3;
<a name="l00638"></a><a class="code" href="_sd_fat_8h.html#a792e282c1b86c65d14e3d6e6612ad2d0">00638</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a792e282c1b86c65d14e3d6e6612ad2d0">SPI_SIXTEENTH_SPEED</a> = 4;
<a name="l00639"></a>00639 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00641"></a><a class="code" href="_sd_fat_8h.html#ab7b9920a819e60f97f988ee13b3ddc40">00641</a> <span class="comment"></span>uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ab7b9920a819e60f97f988ee13b3ddc40">SD_INIT_TIMEOUT</a> = 2000;
<a name="l00643"></a><a class="code" href="_sd_fat_8h.html#afb7454898d781c58caa00f82f0f14f63">00643</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#afb7454898d781c58caa00f82f0f14f63">SD_ERASE_TIMEOUT</a> = 10000;
<a name="l00645"></a><a class="code" href="_sd_fat_8h.html#a02f6ddc876ebab300586940bd111eccd">00645</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a02f6ddc876ebab300586940bd111eccd">SD_READ_TIMEOUT</a> = 300;
<a name="l00647"></a><a class="code" href="_sd_fat_8h.html#a9984cf4ab3088ae5470d56e10e9f23c9">00647</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a9984cf4ab3088ae5470d56e10e9f23c9">SD_WRITE_TIMEOUT</a> = 600;
<a name="l00648"></a>00648 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00649"></a>00649 <span class="comment">// SD card errors</span>
<a name="l00651"></a><a class="code" href="_sd_fat_8h.html#a3803cc53ecc2b346ba950053f3dced47">00651</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a3803cc53ecc2b346ba950053f3dced47">SD_CARD_ERROR_CMD0</a> = 0X1;
<a name="l00653"></a><a class="code" href="_sd_fat_8h.html#a2da93442c11fa58ffd24fe9d7038393d">00653</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a2da93442c11fa58ffd24fe9d7038393d">SD_CARD_ERROR_CMD8</a> = 0X2;
<a name="l00655"></a><a class="code" href="_sd_fat_8h.html#ae713a04caec74b7a412fc3a4ca7ee8fd">00655</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ae713a04caec74b7a412fc3a4ca7ee8fd">SD_CARD_ERROR_CMD12</a> = 0X3;
<a name="l00657"></a><a class="code" href="_sd_fat_8h.html#a2e79398dcb2711672e50dc2bea94e141">00657</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a2e79398dcb2711672e50dc2bea94e141">SD_CARD_ERROR_CMD17</a> = 0X4;
<a name="l00659"></a><a class="code" href="_sd_fat_8h.html#a15f61426677cddfb1504e4b98900ae05">00659</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a15f61426677cddfb1504e4b98900ae05">SD_CARD_ERROR_CMD18</a> = 0X5;
<a name="l00661"></a><a class="code" href="_sd_fat_8h.html#ade761c5ed037fbe0598f80c5e6d34268">00661</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ade761c5ed037fbe0598f80c5e6d34268">SD_CARD_ERROR_CMD24</a> = 0X6;
<a name="l00663"></a><a class="code" href="_sd_fat_8h.html#a4840a2a3026b537bf0e6a679715ec734">00663</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a4840a2a3026b537bf0e6a679715ec734">SD_CARD_ERROR_CMD25</a> = 0X7;
<a name="l00665"></a><a class="code" href="_sd_fat_8h.html#a0ebfb17cbc424fd2138918aa72307292">00665</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a0ebfb17cbc424fd2138918aa72307292">SD_CARD_ERROR_CMD58</a> = 0X8;
<a name="l00667"></a><a class="code" href="_sd_fat_8h.html#aa69b04c3716e3e9962617e264e7ebe44">00667</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#aa69b04c3716e3e9962617e264e7ebe44">SD_CARD_ERROR_ACMD23</a> = 0X9;
<a name="l00669"></a><a class="code" href="_sd_fat_8h.html#a62fdea7af4f09fb98f302bac1bfa17c2">00669</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a62fdea7af4f09fb98f302bac1bfa17c2">SD_CARD_ERROR_ACMD41</a> = 0XA;
<a name="l00671"></a><a class="code" href="_sd_fat_8h.html#a0bbae62f7c90e60614cfa9063101c5e1">00671</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a0bbae62f7c90e60614cfa9063101c5e1">SD_CARD_ERROR_BAD_CSD</a> = 0XB;
<a name="l00673"></a><a class="code" href="_sd_fat_8h.html#a7726e63b7a04bc15b70901b418d6dd1e">00673</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a7726e63b7a04bc15b70901b418d6dd1e">SD_CARD_ERROR_ERASE</a> = 0XC;
<a name="l00675"></a><a class="code" href="_sd_fat_8h.html#a00e05ddd835d81e0b4d78ededae70a3c">00675</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a00e05ddd835d81e0b4d78ededae70a3c">SD_CARD_ERROR_ERASE_SINGLE_BLOCK</a> = 0XD;
<a name="l00677"></a><a class="code" href="_sd_fat_8h.html#a8121967a262a076c5191a0e855531f99">00677</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a8121967a262a076c5191a0e855531f99">SD_CARD_ERROR_ERASE_TIMEOUT</a> = 0XE;
<a name="l00679"></a><a class="code" href="_sd_fat_8h.html#adb9b963e8c54c4daf616cc5fdc4010ac">00679</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#adb9b963e8c54c4daf616cc5fdc4010ac">SD_CARD_ERROR_READ</a> = 0XF;
<a name="l00681"></a><a class="code" href="_sd_fat_8h.html#af1cdb9d8082532f4fe4b7cf1931dddbe">00681</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#af1cdb9d8082532f4fe4b7cf1931dddbe">SD_CARD_ERROR_READ_REG</a> = 0X10;
<a name="l00683"></a><a class="code" href="_sd_fat_8h.html#a49c57f2b1d31fe1b0baf73fab5bd469b">00683</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a49c57f2b1d31fe1b0baf73fab5bd469b">SD_CARD_ERROR_READ_TIMEOUT</a> = 0X11;
<a name="l00685"></a><a class="code" href="_sd_fat_8h.html#a87264e66265e36be6b1428ebacf2e4ed">00685</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a87264e66265e36be6b1428ebacf2e4ed">SD_CARD_ERROR_STOP_TRAN</a> = 0X12;
<a name="l00687"></a><a class="code" href="_sd_fat_8h.html#a98bb1b625b0b9ce99d8494fbb195274c">00687</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a98bb1b625b0b9ce99d8494fbb195274c">SD_CARD_ERROR_WRITE</a> = 0X13;
<a name="l00689"></a><a class="code" href="_sd_fat_8h.html#a376db89ebd1e212110419e3ac7a0c33f">00689</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a376db89ebd1e212110419e3ac7a0c33f">SD_CARD_ERROR_WRITE_BLOCK_ZERO</a> = 0X14;  <span class="comment">// REMOVE - not used</span>
<a name="l00691"></a><a class="code" href="_sd_fat_8h.html#a30bc1de9e3914ace0b9dc30f99a0edea">00691</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a30bc1de9e3914ace0b9dc30f99a0edea">SD_CARD_ERROR_WRITE_MULTIPLE</a> = 0X15;
<a name="l00693"></a><a class="code" href="_sd_fat_8h.html#a06b427dad894918bd33fe2e74c50c2e0">00693</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a06b427dad894918bd33fe2e74c50c2e0">SD_CARD_ERROR_WRITE_PROGRAMMING</a> = 0X16;
<a name="l00695"></a><a class="code" href="_sd_fat_8h.html#ae6574296ec37c52209c5f2c5664dccdb">00695</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ae6574296ec37c52209c5f2c5664dccdb">SD_CARD_ERROR_WRITE_TIMEOUT</a> = 0X17;
<a name="l00697"></a><a class="code" href="_sd_fat_8h.html#aa4036973d09278197c2949181094e8e2">00697</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#aa4036973d09278197c2949181094e8e2">SD_CARD_ERROR_SCK_RATE</a> = 0X18;
<a name="l00699"></a><a class="code" href="_sd_fat_8h.html#ab2b7080183030b2cce47b7469e0dde7d">00699</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ab2b7080183030b2cce47b7469e0dde7d">SD_CARD_ERROR_INIT_NOT_CALLED</a> = 0X19;
<a name="l00701"></a><a class="code" href="_sd_fat_8h.html#a974f951f7de236ad1bf498344c573b26">00701</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a974f951f7de236ad1bf498344c573b26">SD_CARD_ERROR_CMD59</a> = 0X1A;
<a name="l00703"></a><a class="code" href="_sd_fat_8h.html#afb7f0b9a1a4ea92107204508c893cc81">00703</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#afb7f0b9a1a4ea92107204508c893cc81">SD_CARD_ERROR_READ_CRC</a> = 0X1B;
<a name="l00704"></a>00704 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00705"></a>00705 <span class="comment">// card types</span>
<a name="l00707"></a><a class="code" href="_sd_fat_8h.html#af55081a60d333ab063a5da5dd2c3633b">00707</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#af55081a60d333ab063a5da5dd2c3633b">SD_CARD_TYPE_SD1</a>  = 1;
<a name="l00709"></a><a class="code" href="_sd_fat_8h.html#a225807c91fc41717b4230d3b7e99c9f7">00709</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a225807c91fc41717b4230d3b7e99c9f7">SD_CARD_TYPE_SD2</a>  = 2;
<a name="l00711"></a><a class="code" href="_sd_fat_8h.html#a39b05691c3bcfffddd5d590589980f44">00711</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a39b05691c3bcfffddd5d590589980f44">SD_CARD_TYPE_SDHC</a> = 3;
<a name="l00715"></a>00715 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00716"></a>00716 <span class="preprocessor">#if LEONARDO_SOFT_SPI &amp;&amp; defined(__AVR_ATmega32U4__) &amp;&amp; !defined(CORE_TEENSY)</span>
<a name="l00717"></a>00717 <span class="preprocessor"></span><span class="preprocessor">#define SOFTWARE_SPI</span>
<a name="l00718"></a>00718 <span class="preprocessor"></span><span class="preprocessor">#elif MEGA_SOFT_SPI&amp;&amp;(defined(__AVR_ATmega1280__)||defined(__AVR_ATmega2560__))</span>
<a name="l00719"></a>00719 <span class="preprocessor"></span><span class="preprocessor">#define SOFTWARE_SPI</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span><span class="preprocessor">#elif USE_SOFTWARE_SPI</span>
<a name="l00721"></a>00721 <span class="preprocessor"></span><span class="preprocessor">#define SOFTWARE_SPI</span>
<a name="l00722"></a>00722 <span class="preprocessor"></span><span class="preprocessor">#endif  // LEONARDO_SOFT_SPI</span>
<a name="l00723"></a>00723 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00724"></a>00724 <span class="comment">// define default chip select pin</span>
<a name="l00725"></a>00725 <span class="comment">//</span>
<a name="l00726"></a>00726 <span class="preprocessor">#ifndef SOFTWARE_SPI</span>
<a name="l00727"></a>00727 <span class="preprocessor"></span><span class="comment">// hardware pin defs</span>
<a name="l00729"></a><a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">00729</a> <span class="comment"></span>uint8_t <span class="keyword">const</span>  <a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">SD_CHIP_SELECT_PIN</a> = <a class="code" href="pins_8h.html#ace91a4e928d61240785c9438be8651d0">SDSS</a>;
<a name="l00730"></a>00730 <span class="preprocessor">#else  // SOFTWARE_SPI</span>
<a name="l00731"></a>00731 <span class="preprocessor"></span>
<a name="l00732"></a>00732 uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">SD_CHIP_SELECT_PIN</a> = <a class="code" href="_sd_fat_8h.html#a5e0307dbc42b2444deedd558bcdd8933">SOFT_SPI_CS_PIN</a>;
<a name="l00733"></a>00733 <span class="preprocessor">#endif  // SOFTWARE_SPI</span>
<a name="l00734"></a>00734 <span class="preprocessor"></span><span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00739"></a><a class="code" href="class_sd2_card.html">00739</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a> {
<a name="l00740"></a>00740  <span class="keyword">public</span>:
<a name="l00742"></a><a class="code" href="class_sd2_card.html#a1f49fb22b3890260d2b8672010b17f49">00742</a>   <a class="code" href="class_sd2_card.html#a1f49fb22b3890260d2b8672010b17f49">Sd2Card</a>() : <a class="code" href="class_sd2_card.html#a856093819b4013df8c568dab8c96b79e">errorCode_</a>(<a class="code" href="_sd_fat_8h.html#ab2b7080183030b2cce47b7469e0dde7d">SD_CARD_ERROR_INIT_NOT_CALLED</a>), <a class="code" href="class_sd2_card.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>(0) {}
<a name="l00743"></a>00743   uint32_t <a class="code" href="class_sd2_card.html#a5ee7bcd3bda0173fa477efa86eaeab1a">cardSize</a>();
<a name="l00744"></a>00744   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a9d1aea769c0e71a39d5bcd1c5d8ce446">erase</a>(uint32_t firstBlock, uint32_t lastBlock);
<a name="l00745"></a>00745   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#ae780c9bffb14b9fbf7077d97fb810976">eraseSingleBlockEnable</a>();
<a name="l00750"></a><a class="code" href="class_sd2_card.html#aeca83c66edec1c068e687051abe76635">00750</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd2_card.html#aeca83c66edec1c068e687051abe76635">error</a>(uint8_t code) {<a class="code" href="class_sd2_card.html#a856093819b4013df8c568dab8c96b79e">errorCode_</a> = code;}
<a name="l00754"></a><a class="code" href="class_sd2_card.html#ad8be6f07f86730f2b2fed4bb34b10f33">00754</a>   <span class="keywordtype">int</span> <a class="code" href="class_sd2_card.html#ad8be6f07f86730f2b2fed4bb34b10f33">errorCode</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#a856093819b4013df8c568dab8c96b79e">errorCode_</a>;}
<a name="l00756"></a><a class="code" href="class_sd2_card.html#a6f85fee8f55dfe119a47647cd4dfbcb9">00756</a>   <span class="keywordtype">int</span> <a class="code" href="class_sd2_card.html#a6f85fee8f55dfe119a47647cd4dfbcb9">errorData</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#a39abba51311659ff2052c48aab2eec79">status_</a>;}
<a name="l00763"></a>00763   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a008934b78ad099ce978883287b320b47">init</a>(uint8_t sckRateID = <a class="code" href="_sd_fat_8h.html#a6c091c07d1eb82a94b1c5738f720264b">SPI_FULL_SPEED</a>,
<a name="l00764"></a>00764     uint8_t chipSelectPin = <a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">SD_CHIP_SELECT_PIN</a>);
<a name="l00765"></a>00765   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a2d3c126910c2c0c9d6ac468a459eec39">readBlock</a>(uint32_t block, uint8_t* dst);
<a name="l00775"></a><a class="code" href="class_sd2_card.html#ac2a262a5e6c508ec5d5b312f01b54e67">00775</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#ac2a262a5e6c508ec5d5b312f01b54e67">readCID</a>(<a class="code" href="struct_c_i_d.html">cid_t</a>* cid) {
<a name="l00776"></a>00776     <span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#af7820e455ba72ac41b8749ecce475523">readRegister</a>(<a class="code" href="_sd_fat_8h.html#a7228ab7c6f05aac53cf844e8e4a9a121">CMD10</a>, cid);
<a name="l00777"></a>00777   }
<a name="l00786"></a><a class="code" href="class_sd2_card.html#a4a73b4acf0416c0edd9ced858ad37656">00786</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a4a73b4acf0416c0edd9ced858ad37656">readCSD</a>(<a class="code" href="unioncsd__t.html">csd_t</a>* csd) {
<a name="l00787"></a>00787     <span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#af7820e455ba72ac41b8749ecce475523">readRegister</a>(<a class="code" href="_sd_fat_8h.html#afdee4fb07dae3bf93f0e9a0d9987143e">CMD9</a>, csd);
<a name="l00788"></a>00788   }
<a name="l00789"></a>00789   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#ace9c999f7d24d3382bb6a32ac1f271d1">readData</a>(uint8_t *dst);
<a name="l00790"></a>00790   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a2d7e430e3cb4a8509b356b94481ea3bd">readStart</a>(uint32_t blockNumber);
<a name="l00791"></a>00791   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a0d8e8db6267dc686d0de12986f432684">readStop</a>();
<a name="l00792"></a>00792   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a990e65b665bf8b131c864c6aba983141">setSckRate</a>(uint8_t sckRateID);
<a name="l00796"></a><a class="code" href="class_sd2_card.html#a4609e33962a63a3b71f17de25e8745aa">00796</a>   <span class="keywordtype">int</span> <a class="code" href="class_sd2_card.html#a4609e33962a63a3b71f17de25e8745aa">type</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>;}
<a name="l00797"></a>00797   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#af3f9516d0822ed675bf92a56c96ebf71">writeBlock</a>(uint32_t blockNumber, <span class="keyword">const</span> uint8_t* src);
<a name="l00798"></a>00798   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a29c4fb0721e5ef10b73dfc2d44ae080a">writeData</a>(<span class="keyword">const</span> uint8_t* src);
<a name="l00799"></a>00799   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#acb9f3776c0a7041e1bf2250a6b8dffbe">writeStart</a>(uint32_t blockNumber, uint32_t eraseCount);
<a name="l00800"></a>00800   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#ac4d108c05f53df893d53b7848fc364d8">writeStop</a>();
<a name="l00801"></a>00801 
<a name="l00802"></a>00802  <span class="keyword">private</span>:
<a name="l00803"></a>00803   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00804"></a><a class="code" href="class_sd2_card.html#acf49e4d504c34ee0b0aba00296718e94">00804</a>   uint8_t <a class="code" href="class_sd2_card.html#acf49e4d504c34ee0b0aba00296718e94">chipSelectPin_</a>;
<a name="l00805"></a><a class="code" href="class_sd2_card.html#a856093819b4013df8c568dab8c96b79e">00805</a>   uint8_t <a class="code" href="class_sd2_card.html#a856093819b4013df8c568dab8c96b79e">errorCode_</a>;
<a name="l00806"></a><a class="code" href="class_sd2_card.html#a2be136cb8da5736ecdc6c0aed604c902">00806</a>   uint8_t <a class="code" href="class_sd2_card.html#a2be136cb8da5736ecdc6c0aed604c902">spiRate_</a>;
<a name="l00807"></a><a class="code" href="class_sd2_card.html#a39abba51311659ff2052c48aab2eec79">00807</a>   uint8_t <a class="code" href="class_sd2_card.html#a39abba51311659ff2052c48aab2eec79">status_</a>;
<a name="l00808"></a><a class="code" href="class_sd2_card.html#ac52855672d3aac6d0e3b2228ac9e19dc">00808</a>   uint8_t <a class="code" href="class_sd2_card.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>;
<a name="l00809"></a>00809   <span class="comment">// private functions</span>
<a name="l00810"></a><a class="code" href="class_sd2_card.html#a4517419ec4bf821be8e34bb1562a906e">00810</a>   uint8_t <a class="code" href="class_sd2_card.html#a4517419ec4bf821be8e34bb1562a906e">cardAcmd</a>(uint8_t cmd, uint32_t arg) {
<a name="l00811"></a>00811     <a class="code" href="class_sd2_card.html#a4144ac40b43534083c41a7faf3383415">cardCommand</a>(<a class="code" href="_sd_fat_8h.html#a6e3cb1cf62a815db82fe9f343a4cb1a4">CMD55</a>, 0);
<a name="l00812"></a>00812     <span class="keywordflow">return</span> <a class="code" href="class_sd2_card.html#a4144ac40b43534083c41a7faf3383415">cardCommand</a>(cmd, arg);
<a name="l00813"></a>00813   }
<a name="l00814"></a>00814   uint8_t <a class="code" href="class_sd2_card.html#a4144ac40b43534083c41a7faf3383415">cardCommand</a>(uint8_t cmd, uint32_t arg);
<a name="l00815"></a>00815   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#ace9c999f7d24d3382bb6a32ac1f271d1">readData</a>(uint8_t* dst, uint16_t count);
<a name="l00816"></a>00816   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#af7820e455ba72ac41b8749ecce475523">readRegister</a>(uint8_t cmd, <span class="keywordtype">void</span>* buf);
<a name="l00817"></a>00817   <span class="keywordtype">void</span> <a class="code" href="class_sd2_card.html#a4d554e76d6f91a5a0722fca298ee0242">chipSelectHigh</a>();
<a name="l00818"></a>00818   <span class="keywordtype">void</span> <a class="code" href="class_sd2_card.html#aad1f1ef78c225d04b1fffdc4cdd9f360">chipSelectLow</a>();
<a name="l00819"></a><a class="code" href="class_sd2_card.html#a731c4dba755005cf052ee8f8822ba5da">00819</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd2_card.html#a731c4dba755005cf052ee8f8822ba5da">type</a>(uint8_t value) {<a class="code" href="class_sd2_card.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> = value;}
<a name="l00820"></a>00820   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a18cdbb44848cd7e02820694014768441">waitNotBusy</a>(uint16_t timeoutMillis);
<a name="l00821"></a>00821   <span class="keywordtype">bool</span> <a class="code" href="class_sd2_card.html#a29c4fb0721e5ef10b73dfc2d44ae080a">writeData</a>(uint8_t token, <span class="keyword">const</span> uint8_t* src);
<a name="l00822"></a>00822 };
<a name="l00823"></a>00823 
<a name="l00828"></a>00828 <span class="comment">/*</span>
<a name="l00829"></a>00829 <span class="comment"> * mostly from Microsoft document fatgen103.doc</span>
<a name="l00830"></a>00830 <span class="comment"> * http://www.microsoft.com/whdc/system/platform/firmware/fatgen.mspx</span>
<a name="l00831"></a>00831 <span class="comment"> */</span>
<a name="l00832"></a>00832 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00834"></a><a class="code" href="_sd_fat_8h.html#aa1aeb3a5e2838c5c7270fa17bcc31e8e">00834</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#aa1aeb3a5e2838c5c7270fa17bcc31e8e">BOOTSIG0</a> = 0X55;
<a name="l00836"></a><a class="code" href="_sd_fat_8h.html#a1b5a143c48d93d6f4e3fc1f5f3ac1dc3">00836</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a1b5a143c48d93d6f4e3fc1f5f3ac1dc3">BOOTSIG1</a> = 0XAA;
<a name="l00838"></a><a class="code" href="_sd_fat_8h.html#ac856ff0a92288eb124e1688581628cd0">00838</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac856ff0a92288eb124e1688581628cd0">EXTENDED_BOOT_SIG</a> = 0X29;
<a name="l00839"></a>00839 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00847"></a>00847 <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structpartition_table.html" title="MBR partition table entry.">partitionTable</a> {
<a name="l00853"></a>00853   uint8_t  <a class="code" href="structpartition_table.html#ad2acb7fab9ef33a6f00c834401250229">boot</a>;
<a name="l00858"></a>00858   uint8_t  <a class="code" href="structpartition_table.html#ab27b713d70d01c43e31fc67e08f876bf">beginHead</a>;
<a name="l00863"></a>00863   <span class="keywordtype">unsigned</span> <a class="code" href="structpartition_table.html#a3ef026d5e8a9c697e414cf773b129db4">beginSector</a> : 6;
<a name="l00865"></a>00865   <span class="keywordtype">unsigned</span> <a class="code" href="structpartition_table.html#aae20759e6c6dbfa51368964f8fe095c7">beginCylinderHigh</a> : 2;
<a name="l00870"></a>00870   uint8_t  <a class="code" href="structpartition_table.html#afefdee23280567f8434f9c31610e0a3b">beginCylinderLow</a>;
<a name="l00875"></a>00875   uint8_t  <a class="code" href="structpartition_table.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;
<a name="l00880"></a>00880   uint8_t  <a class="code" href="structpartition_table.html#a248e6a8c42872744129b8b85a864a7a6">endHead</a>;
<a name="l00885"></a>00885   <span class="keywordtype">unsigned</span> <a class="code" href="structpartition_table.html#a1412f3c5116885eb7d4a047e432c9cdd">endSector</a> : 6;
<a name="l00887"></a>00887   <span class="keywordtype">unsigned</span> <a class="code" href="structpartition_table.html#adeccbdcad0d989d1e33a07b435ab7300">endCylinderHigh</a> : 2;
<a name="l00892"></a>00892   uint8_t  <a class="code" href="structpartition_table.html#a3eb4b87675075500899edbb9296e0435">endCylinderLow</a>;
<a name="l00894"></a>00894   uint32_t <a class="code" href="structpartition_table.html#a5951cd74127d45180071909972899c0e">firstSector</a>;
<a name="l00896"></a>00896   uint32_t <a class="code" href="structpartition_table.html#ab3559f69d4a46a945bd4c037070585f2">totalSectors</a>;
<a name="l00897"></a>00897 };
<a name="l00899"></a><a class="code" href="_sd_fat_8h.html#a37251e7d5c69a159be727a3fc8c9d0e6">00899</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpartition_table.html" title="MBR partition table entry.">partitionTable</a> <a class="code" href="structpartition_table.html" title="MBR partition table entry.">part_t</a>;
<a name="l00900"></a>00900 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00908"></a>00908 <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structmaster_boot_record.html" title="Master Boot Record.">masterBootRecord</a> {
<a name="l00910"></a>00910   uint8_t  <a class="code" href="structmaster_boot_record.html#aa0506841535b45b93c3f51da3e662158">codeArea</a>[440];
<a name="l00912"></a>00912   uint32_t <a class="code" href="structmaster_boot_record.html#a6a40348b3b308847ba21a75829d91871">diskSignature</a>;
<a name="l00914"></a>00914   uint16_t <a class="code" href="structmaster_boot_record.html#aefe56bef1bc942c24bc7eefc4a7aefcc">usuallyZero</a>;
<a name="l00916"></a>00916   <a class="code" href="structpartition_table.html" title="MBR partition table entry.">part_t</a>   <a class="code" href="structmaster_boot_record.html#a524278b18c83dccc3da5eaab41601a0d">part</a>[4];
<a name="l00918"></a>00918   uint8_t  <a class="code" href="structmaster_boot_record.html#aa5633d8ea0049be26315e7627e32bb4e">mbrSig0</a>;
<a name="l00920"></a>00920   uint8_t  <a class="code" href="structmaster_boot_record.html#af106928fafe93a641c06cfb87b0d24e3">mbrSig1</a>;
<a name="l00921"></a>00921 };
<a name="l00923"></a><a class="code" href="_sd_fat_8h.html#a7c429e5097f101c8c97663d6c4155bd9">00923</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmaster_boot_record.html" title="Master Boot Record.">masterBootRecord</a> <a class="code" href="structmaster_boot_record.html" title="Master Boot Record.">mbr_t</a>;
<a name="l00924"></a>00924 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00931"></a><a class="code" href="structfat__boot.html">00931</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structfat__boot.html" title="Boot sector for a FAT12/FAT16 volume.">fat_boot</a> {
<a name="l00937"></a><a class="code" href="structfat__boot.html#a61b95cffdd449d10352cfd0288b23287">00937</a>   uint8_t <a class="code" href="structfat__boot.html#a61b95cffdd449d10352cfd0288b23287">jump</a>[3];
<a name="l00942"></a><a class="code" href="structfat__boot.html#adff248465625d1fa3583bfcf2838620d">00942</a>   <span class="keywordtype">char</span>    <a class="code" href="structfat__boot.html#adff248465625d1fa3583bfcf2838620d">oemId</a>[8];
<a name="l00948"></a><a class="code" href="structfat__boot.html#adb2ddeae74baf681103d21d724814a63">00948</a>   uint16_t <a class="code" href="structfat__boot.html#adb2ddeae74baf681103d21d724814a63">bytesPerSector</a>;
<a name="l00954"></a><a class="code" href="structfat__boot.html#a3ce07376c286acd8393a18a32d7ca4c0">00954</a>   uint8_t  <a class="code" href="structfat__boot.html#a3ce07376c286acd8393a18a32d7ca4c0">sectorsPerCluster</a>;
<a name="l00959"></a><a class="code" href="structfat__boot.html#a16c854faf567331bbbfb383e6c8df6f5">00959</a>   uint16_t <a class="code" href="structfat__boot.html#a16c854faf567331bbbfb383e6c8df6f5">reservedSectorCount</a>;
<a name="l00964"></a><a class="code" href="structfat__boot.html#a624e9eb125b4fc8aeaebcccf79e17aa8">00964</a>   uint8_t  <a class="code" href="structfat__boot.html#a624e9eb125b4fc8aeaebcccf79e17aa8">fatCount</a>;
<a name="l00973"></a><a class="code" href="structfat__boot.html#aabe25e54b9c06a9a7393fc6c475d9fa1">00973</a>   uint16_t <a class="code" href="structfat__boot.html#aabe25e54b9c06a9a7393fc6c475d9fa1">rootDirEntryCount</a>;
<a name="l00983"></a><a class="code" href="structfat__boot.html#ad717f5b9af13f8ec9d0d6d1337174dfa">00983</a>   uint16_t <a class="code" href="structfat__boot.html#ad717f5b9af13f8ec9d0d6d1337174dfa">totalSectors16</a>;
<a name="l00990"></a><a class="code" href="structfat__boot.html#ab88738f9cb91c882cb91d5e83a19a73f">00990</a>   uint8_t  <a class="code" href="structfat__boot.html#ab88738f9cb91c882cb91d5e83a19a73f">mediaType</a>;
<a name="l00996"></a><a class="code" href="structfat__boot.html#abf85d1c57b01c8901a0cdcd0ac1babc2">00996</a>   uint16_t <a class="code" href="structfat__boot.html#abf85d1c57b01c8901a0cdcd0ac1babc2">sectorsPerFat16</a>;
<a name="l00998"></a><a class="code" href="structfat__boot.html#a42886f9109ee1759d5972e871f0689a8">00998</a>   uint16_t <a class="code" href="structfat__boot.html#a42886f9109ee1759d5972e871f0689a8">sectorsPerTrack</a>;
<a name="l01000"></a><a class="code" href="structfat__boot.html#a57cb7e16b9969fa87c9f1ca43a87d217">01000</a>   uint16_t <a class="code" href="structfat__boot.html#a57cb7e16b9969fa87c9f1ca43a87d217">headCount</a>;
<a name="l01006"></a><a class="code" href="structfat__boot.html#a454fd6cc3f063c86b7fe65c367da7cdd">01006</a>   uint32_t <a class="code" href="structfat__boot.html#a454fd6cc3f063c86b7fe65c367da7cdd">hidddenSectors</a>;
<a name="l01013"></a><a class="code" href="structfat__boot.html#a64d5902f9e900ecc745b1c0b325d875f">01013</a>   uint32_t <a class="code" href="structfat__boot.html#a64d5902f9e900ecc745b1c0b325d875f">totalSectors32</a>;
<a name="l01022"></a><a class="code" href="structfat__boot.html#aa7c65fdb4f759fca094105d1c870bcb2">01022</a>   uint8_t  <a class="code" href="structfat__boot.html#aa7c65fdb4f759fca094105d1c870bcb2">driveNumber</a>;
<a name="l01024"></a><a class="code" href="structfat__boot.html#a2a2556147677ece60b8aadf4a0d608ed">01024</a>   uint8_t  <a class="code" href="structfat__boot.html#a2a2556147677ece60b8aadf4a0d608ed">reserved1</a>;
<a name="l01026"></a><a class="code" href="structfat__boot.html#acc4a4e4c22b630d12c1b2c2b8c7eb366">01026</a>   uint8_t  <a class="code" href="structfat__boot.html#acc4a4e4c22b630d12c1b2c2b8c7eb366">bootSignature</a>;
<a name="l01032"></a><a class="code" href="structfat__boot.html#a7c9ffcee12051cefe1724e8024af25f8">01032</a>   uint32_t <a class="code" href="structfat__boot.html#a7c9ffcee12051cefe1724e8024af25f8">volumeSerialNumber</a>;
<a name="l01037"></a><a class="code" href="structfat__boot.html#a253960050a38d2bfb2f57e86769aca62">01037</a>   <span class="keywordtype">char</span>     <a class="code" href="structfat__boot.html#a253960050a38d2bfb2f57e86769aca62">volumeLabel</a>[11];
<a name="l01042"></a><a class="code" href="structfat__boot.html#adf80bb044ef7c8ac6d371268aa338e23">01042</a>   <span class="keywordtype">char</span>     <a class="code" href="structfat__boot.html#adf80bb044ef7c8ac6d371268aa338e23">fileSystemType</a>[8];
<a name="l01044"></a><a class="code" href="structfat__boot.html#a3a3b1f80267552c92749bd86827821a2">01044</a>   uint8_t  <a class="code" href="structfat__boot.html#a3a3b1f80267552c92749bd86827821a2">bootCode</a>[448];
<a name="l01046"></a><a class="code" href="structfat__boot.html#abdaf2cc75b74800944ede557442ca5bd">01046</a>   uint8_t  <a class="code" href="structfat__boot.html#abdaf2cc75b74800944ede557442ca5bd">bootSectorSig0</a>;
<a name="l01048"></a><a class="code" href="structfat__boot.html#a44983e94ecddbdcb7ab691e493a13d94">01048</a>   uint8_t  <a class="code" href="structfat__boot.html#a44983e94ecddbdcb7ab691e493a13d94">bootSectorSig1</a>;
<a name="l01049"></a>01049 };
<a name="l01051"></a><a class="code" href="_sd_fat_8h.html#aedac4595ee08198da26c14b9891a07d5">01051</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfat__boot.html" title="Boot sector for a FAT12/FAT16 volume.">fat_boot</a> <a class="code" href="structfat__boot.html" title="Boot sector for a FAT12/FAT16 volume.">fat_boot_t</a>;
<a name="l01052"></a>01052 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01059"></a><a class="code" href="structfat32__boot.html">01059</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structfat32__boot.html" title="Boot sector for a FAT32 volume.">fat32_boot</a> {
<a name="l01065"></a><a class="code" href="structfat32__boot.html#a61b95cffdd449d10352cfd0288b23287">01065</a>   uint8_t <a class="code" href="structfat32__boot.html#a61b95cffdd449d10352cfd0288b23287">jump</a>[3];
<a name="l01070"></a><a class="code" href="structfat32__boot.html#adff248465625d1fa3583bfcf2838620d">01070</a>   <span class="keywordtype">char</span>    <a class="code" href="structfat32__boot.html#adff248465625d1fa3583bfcf2838620d">oemId</a>[8];
<a name="l01076"></a><a class="code" href="structfat32__boot.html#adb2ddeae74baf681103d21d724814a63">01076</a>   uint16_t <a class="code" href="structfat32__boot.html#adb2ddeae74baf681103d21d724814a63">bytesPerSector</a>;
<a name="l01082"></a><a class="code" href="structfat32__boot.html#a3ce07376c286acd8393a18a32d7ca4c0">01082</a>   uint8_t  <a class="code" href="structfat32__boot.html#a3ce07376c286acd8393a18a32d7ca4c0">sectorsPerCluster</a>;
<a name="l01087"></a><a class="code" href="structfat32__boot.html#a16c854faf567331bbbfb383e6c8df6f5">01087</a>   uint16_t <a class="code" href="structfat32__boot.html#a16c854faf567331bbbfb383e6c8df6f5">reservedSectorCount</a>;
<a name="l01092"></a><a class="code" href="structfat32__boot.html#a624e9eb125b4fc8aeaebcccf79e17aa8">01092</a>   uint8_t  <a class="code" href="structfat32__boot.html#a624e9eb125b4fc8aeaebcccf79e17aa8">fatCount</a>;
<a name="l01096"></a><a class="code" href="structfat32__boot.html#aabe25e54b9c06a9a7393fc6c475d9fa1">01096</a>   uint16_t <a class="code" href="structfat32__boot.html#aabe25e54b9c06a9a7393fc6c475d9fa1">rootDirEntryCount</a>;
<a name="l01100"></a><a class="code" href="structfat32__boot.html#ad717f5b9af13f8ec9d0d6d1337174dfa">01100</a>   uint16_t <a class="code" href="structfat32__boot.html#ad717f5b9af13f8ec9d0d6d1337174dfa">totalSectors16</a>;
<a name="l01107"></a><a class="code" href="structfat32__boot.html#ab88738f9cb91c882cb91d5e83a19a73f">01107</a>   uint8_t  <a class="code" href="structfat32__boot.html#ab88738f9cb91c882cb91d5e83a19a73f">mediaType</a>;
<a name="l01112"></a><a class="code" href="structfat32__boot.html#abf85d1c57b01c8901a0cdcd0ac1babc2">01112</a>   uint16_t <a class="code" href="structfat32__boot.html#abf85d1c57b01c8901a0cdcd0ac1babc2">sectorsPerFat16</a>;
<a name="l01114"></a><a class="code" href="structfat32__boot.html#a42886f9109ee1759d5972e871f0689a8">01114</a>   uint16_t <a class="code" href="structfat32__boot.html#a42886f9109ee1759d5972e871f0689a8">sectorsPerTrack</a>;
<a name="l01116"></a><a class="code" href="structfat32__boot.html#a57cb7e16b9969fa87c9f1ca43a87d217">01116</a>   uint16_t <a class="code" href="structfat32__boot.html#a57cb7e16b9969fa87c9f1ca43a87d217">headCount</a>;
<a name="l01122"></a><a class="code" href="structfat32__boot.html#a454fd6cc3f063c86b7fe65c367da7cdd">01122</a>   uint32_t <a class="code" href="structfat32__boot.html#a454fd6cc3f063c86b7fe65c367da7cdd">hidddenSectors</a>;
<a name="l01126"></a><a class="code" href="structfat32__boot.html#a64d5902f9e900ecc745b1c0b325d875f">01126</a>   uint32_t <a class="code" href="structfat32__boot.html#a64d5902f9e900ecc745b1c0b325d875f">totalSectors32</a>;
<a name="l01130"></a><a class="code" href="structfat32__boot.html#a687653b3b71ab0de1f27f8ab8f331a1c">01130</a>   uint32_t <a class="code" href="structfat32__boot.html#a687653b3b71ab0de1f27f8ab8f331a1c">sectorsPerFat32</a>;
<a name="l01142"></a><a class="code" href="structfat32__boot.html#a4f864cefb7f1b004d5739ffab9a65ae1">01142</a>   uint16_t <a class="code" href="structfat32__boot.html#a4f864cefb7f1b004d5739ffab9a65ae1">fat32Flags</a>;
<a name="l01147"></a><a class="code" href="structfat32__boot.html#a8f27235fa3dee48a4b4e099135fc81d6">01147</a>   uint16_t <a class="code" href="structfat32__boot.html#a8f27235fa3dee48a4b4e099135fc81d6">fat32Version</a>;
<a name="l01152"></a><a class="code" href="structfat32__boot.html#a58249ed4ed0f92d5768f2342f248af82">01152</a>   uint32_t <a class="code" href="structfat32__boot.html#a58249ed4ed0f92d5768f2342f248af82">fat32RootCluster</a>;
<a name="l01157"></a><a class="code" href="structfat32__boot.html#aad3222ea255af06d09734e96a93c82ed">01157</a>   uint16_t <a class="code" href="structfat32__boot.html#aad3222ea255af06d09734e96a93c82ed">fat32FSInfo</a>;
<a name="l01163"></a><a class="code" href="structfat32__boot.html#a1914baf34756efd18072059dccfcf40f">01163</a>   uint16_t <a class="code" href="structfat32__boot.html#a1914baf34756efd18072059dccfcf40f">fat32BackBootBlock</a>;
<a name="l01168"></a><a class="code" href="structfat32__boot.html#ae31dc7ad96aec8e0d184fd7e5a97f30d">01168</a>   uint8_t  <a class="code" href="structfat32__boot.html#ae31dc7ad96aec8e0d184fd7e5a97f30d">fat32Reserved</a>[12];
<a name="l01177"></a><a class="code" href="structfat32__boot.html#aa7c65fdb4f759fca094105d1c870bcb2">01177</a>   uint8_t  <a class="code" href="structfat32__boot.html#aa7c65fdb4f759fca094105d1c870bcb2">driveNumber</a>;
<a name="l01179"></a><a class="code" href="structfat32__boot.html#a2a2556147677ece60b8aadf4a0d608ed">01179</a>   uint8_t  <a class="code" href="structfat32__boot.html#a2a2556147677ece60b8aadf4a0d608ed">reserved1</a>;
<a name="l01181"></a><a class="code" href="structfat32__boot.html#acc4a4e4c22b630d12c1b2c2b8c7eb366">01181</a>   uint8_t  <a class="code" href="structfat32__boot.html#acc4a4e4c22b630d12c1b2c2b8c7eb366">bootSignature</a>;
<a name="l01187"></a><a class="code" href="structfat32__boot.html#a7c9ffcee12051cefe1724e8024af25f8">01187</a>   uint32_t <a class="code" href="structfat32__boot.html#a7c9ffcee12051cefe1724e8024af25f8">volumeSerialNumber</a>;
<a name="l01192"></a><a class="code" href="structfat32__boot.html#a253960050a38d2bfb2f57e86769aca62">01192</a>   <span class="keywordtype">char</span>     <a class="code" href="structfat32__boot.html#a253960050a38d2bfb2f57e86769aca62">volumeLabel</a>[11];
<a name="l01196"></a><a class="code" href="structfat32__boot.html#adf80bb044ef7c8ac6d371268aa338e23">01196</a>   <span class="keywordtype">char</span>     <a class="code" href="structfat32__boot.html#adf80bb044ef7c8ac6d371268aa338e23">fileSystemType</a>[8];
<a name="l01198"></a><a class="code" href="structfat32__boot.html#a5d683c906867f4e0122d2ce3462de292">01198</a>   uint8_t  <a class="code" href="structfat32__boot.html#a5d683c906867f4e0122d2ce3462de292">bootCode</a>[420];
<a name="l01200"></a><a class="code" href="structfat32__boot.html#abdaf2cc75b74800944ede557442ca5bd">01200</a>   uint8_t  <a class="code" href="structfat32__boot.html#abdaf2cc75b74800944ede557442ca5bd">bootSectorSig0</a>;
<a name="l01202"></a><a class="code" href="structfat32__boot.html#a44983e94ecddbdcb7ab691e493a13d94">01202</a>   uint8_t  <a class="code" href="structfat32__boot.html#a44983e94ecddbdcb7ab691e493a13d94">bootSectorSig1</a>;
<a name="l01203"></a>01203 };
<a name="l01205"></a><a class="code" href="_sd_fat_8h.html#a38fa081d004647a828095d31b07ec491">01205</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfat32__boot.html" title="Boot sector for a FAT32 volume.">fat32_boot</a> <a class="code" href="structfat32__boot.html" title="Boot sector for a FAT32 volume.">fat32_boot_t</a>;
<a name="l01206"></a>01206 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01208"></a><a class="code" href="_sd_fat_8h.html#ac569b1b465f941aaa41a17d270e278df">01208</a> <span class="comment"></span>uint32_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac569b1b465f941aaa41a17d270e278df">FSINFO_LEAD_SIG</a> = 0x41615252;
<a name="l01210"></a><a class="code" href="_sd_fat_8h.html#ab777b40d12137b9ed073b3bb578703d0">01210</a> uint32_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ab777b40d12137b9ed073b3bb578703d0">FSINFO_STRUCT_SIG</a> = 0x61417272;
<a name="l01217"></a><a class="code" href="structfat32__fsinfo.html">01217</a> <span class="keyword">struct </span><a class="code" href="structfat32__fsinfo.html" title="FSINFO sector for a FAT32 volume.">fat32_fsinfo</a> {
<a name="l01219"></a><a class="code" href="structfat32__fsinfo.html#a19196eeae2525130bdb0d39607860743">01219</a>   uint32_t  <a class="code" href="structfat32__fsinfo.html#a19196eeae2525130bdb0d39607860743">leadSignature</a>;
<a name="l01221"></a><a class="code" href="structfat32__fsinfo.html#aed41fe36034f1fcda738da60943924a6">01221</a>   uint8_t  <a class="code" href="structfat32__fsinfo.html#aed41fe36034f1fcda738da60943924a6">reserved1</a>[480];
<a name="l01223"></a><a class="code" href="structfat32__fsinfo.html#a31ea8ae6a8d32f61dd576d0d4921f015">01223</a>   uint32_t  <a class="code" href="structfat32__fsinfo.html#a31ea8ae6a8d32f61dd576d0d4921f015">structSignature</a>;
<a name="l01231"></a><a class="code" href="structfat32__fsinfo.html#af5d9e0aff08147617a09dc19d207eafe">01231</a>   uint32_t <a class="code" href="structfat32__fsinfo.html#af5d9e0aff08147617a09dc19d207eafe">freeCount</a>;
<a name="l01238"></a><a class="code" href="structfat32__fsinfo.html#a456cdbc01678df5d05eabb80f5aac9b0">01238</a>   uint32_t <a class="code" href="structfat32__fsinfo.html#a456cdbc01678df5d05eabb80f5aac9b0">nextFree</a>;
<a name="l01240"></a><a class="code" href="structfat32__fsinfo.html#af6dc8e21f5c1ca5ca997fc835808802c">01240</a>   uint8_t  <a class="code" href="structfat32__fsinfo.html#af6dc8e21f5c1ca5ca997fc835808802c">reserved2</a>[12];
<a name="l01242"></a><a class="code" href="structfat32__fsinfo.html#a89944902cc4effcd8568575786c3a084">01242</a>   uint8_t  <a class="code" href="structfat32__fsinfo.html#a89944902cc4effcd8568575786c3a084">tailSignature</a>[4];
<a name="l01243"></a>01243 };
<a name="l01245"></a><a class="code" href="_sd_fat_8h.html#a6030ed0fce3a819326a2548407fc8556">01245</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfat32__fsinfo.html" title="FSINFO sector for a FAT32 volume.">fat32_fsinfo</a> <a class="code" href="structfat32__fsinfo.html" title="FSINFO sector for a FAT32 volume.">fat32_fsinfo_t</a>;
<a name="l01246"></a>01246 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01247"></a>01247 <span class="comment">// End Of Chain values for FAT entries</span>
<a name="l01249"></a><a class="code" href="_sd_fat_8h.html#a5beb263a9cb768739f5ddb476ede6690">01249</a> <span class="comment"></span>uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a5beb263a9cb768739f5ddb476ede6690">FAT12EOC</a> = 0XFFF;
<a name="l01251"></a><a class="code" href="_sd_fat_8h.html#af1754604787f709306101dcc04391ff2">01251</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#af1754604787f709306101dcc04391ff2">FAT12EOC_MIN</a> = 0XFF8;
<a name="l01253"></a><a class="code" href="_sd_fat_8h.html#a47b11a71cedad5402613ab2aae827c99">01253</a> uint16_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a47b11a71cedad5402613ab2aae827c99">FAT16EOC</a> = 0XFFFF;
<a name="l01255"></a><a class="code" href="_sd_fat_8h.html#a79b2cefbcfdbf3507fe0496804541b0d">01255</a> uint16_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a79b2cefbcfdbf3507fe0496804541b0d">FAT16EOC_MIN</a> = 0XFFF8;
<a name="l01257"></a><a class="code" href="_sd_fat_8h.html#ac213f2ce8eaa53f7d98424b300038dfd">01257</a> uint32_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#ac213f2ce8eaa53f7d98424b300038dfd">FAT32EOC</a> = 0X0FFFFFFF;
<a name="l01259"></a><a class="code" href="_sd_fat_8h.html#af5bcc97de8cc4956435d06349d6e714b">01259</a> uint32_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#af5bcc97de8cc4956435d06349d6e714b">FAT32EOC_MIN</a> = 0X0FFFFFF8;
<a name="l01261"></a><a class="code" href="_sd_fat_8h.html#a00e6cb52e814024fc23971c43f6e257a">01261</a> uint32_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a00e6cb52e814024fc23971c43f6e257a">FAT32MASK</a> = 0X0FFFFFFF;
<a name="l01262"></a>01262 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01293"></a>01293 <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">directoryEntry</a> {
<a name="l01299"></a>01299   uint8_t  <a class="code" href="structdirectory_entry.html#a03538c3434c511f082c32cda04754e0c">name</a>[11];
<a name="l01306"></a>01306   uint8_t  <a class="code" href="structdirectory_entry.html#a983149395439fbc9ca8497076b75fd6b">attributes</a>;
<a name="l01311"></a>01311   uint8_t  <a class="code" href="structdirectory_entry.html#a937b2d2e4b78ddf9e42b19c754e4f31a">reservedNT</a>;
<a name="l01317"></a>01317   uint8_t  <a class="code" href="structdirectory_entry.html#a088ac767e59feb38599e0a53e6aacb82">creationTimeTenths</a>;
<a name="l01319"></a>01319   uint16_t <a class="code" href="structdirectory_entry.html#a2b2b18a3fb988470278b1217abe946ab">creationTime</a>;
<a name="l01321"></a>01321   uint16_t <a class="code" href="structdirectory_entry.html#ab00be6268bf4c4f4b6014f056e27ba45">creationDate</a>;
<a name="l01327"></a>01327   uint16_t <a class="code" href="structdirectory_entry.html#a5635857642ec25e070355257115dafd1">lastAccessDate</a>;
<a name="l01332"></a>01332   uint16_t <a class="code" href="structdirectory_entry.html#ad6224dfa27a1c558703f158e93ceafe0">firstClusterHigh</a>;
<a name="l01334"></a>01334   uint16_t <a class="code" href="structdirectory_entry.html#ab140bb773b2ff0ddf7199efc083ce037">lastWriteTime</a>;
<a name="l01336"></a>01336   uint16_t <a class="code" href="structdirectory_entry.html#a26f462d6e4410d502149973ee6c216fd">lastWriteDate</a>;
<a name="l01338"></a>01338   uint16_t <a class="code" href="structdirectory_entry.html#a3a4f70fb49494208d7eb349969a8acaa">firstClusterLow</a>;
<a name="l01340"></a>01340   uint32_t <a class="code" href="structdirectory_entry.html#a48f46ad02b77a00b795d15626ba1d42e">fileSize</a>;
<a name="l01341"></a>01341 };
<a name="l01342"></a>01342 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01343"></a>01343 <span class="comment">// Definitions for directory entries</span>
<a name="l01344"></a>01344 <span class="comment">//</span>
<a name="l01346"></a><a class="code" href="_sd_fat_8h.html#a803db59d4e16a0c54a647afc6a7954e3">01346</a> <span class="comment"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">directoryEntry</a> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>;
<a name="l01348"></a><a class="code" href="_sd_fat_8h.html#a27c8cd1e50f71974c9d98a868cfc4c77">01348</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a27c8cd1e50f71974c9d98a868cfc4c77">DIR_NAME_0XE5</a> = 0X05;
<a name="l01350"></a><a class="code" href="_sd_fat_8h.html#a5de4ada3536d89559f6433e835e311da">01350</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> = 0XE5;
<a name="l01352"></a><a class="code" href="_sd_fat_8h.html#a23b2e4d06e245c778f4c52909cf97c76">01352</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a> = 0X00;
<a name="l01354"></a><a class="code" href="_sd_fat_8h.html#abff82a1fd65417a032777e0821821640">01354</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#abff82a1fd65417a032777e0821821640">DIR_ATT_READ_ONLY</a> = 0X01;
<a name="l01356"></a><a class="code" href="_sd_fat_8h.html#a3a41f54f933a4d34b1502321ab9da5ff">01356</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a3a41f54f933a4d34b1502321ab9da5ff">DIR_ATT_HIDDEN</a> = 0X02;
<a name="l01358"></a><a class="code" href="_sd_fat_8h.html#ae89bc34164e7318b3d3169ff290c8d70">01358</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#ae89bc34164e7318b3d3169ff290c8d70">DIR_ATT_SYSTEM</a> = 0X04;
<a name="l01360"></a><a class="code" href="_sd_fat_8h.html#af50cf547300f2cc5d33e7ab457b5a200">01360</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#af50cf547300f2cc5d33e7ab457b5a200">DIR_ATT_VOLUME_ID</a> = 0X08;
<a name="l01362"></a><a class="code" href="_sd_fat_8h.html#a3f9e7ceac3e0a9aebead998e88349139">01362</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a> = 0X10;
<a name="l01364"></a><a class="code" href="_sd_fat_8h.html#a7144738c367c16e672b3e48962bc7dda">01364</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a7144738c367c16e672b3e48962bc7dda">DIR_ATT_ARCHIVE</a> = 0X20;
<a name="l01367"></a><a class="code" href="_sd_fat_8h.html#a0d3f6fbbd34126b2d5563bba65220985">01367</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a> = 0X0F;
<a name="l01369"></a><a class="code" href="_sd_fat_8h.html#a0aa5725dd4916058f0c6c06b09f83059">01369</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a0aa5725dd4916058f0c6c06b09f83059">DIR_ATT_LONG_NAME_MASK</a> = 0X3F;
<a name="l01371"></a><a class="code" href="_sd_fat_8h.html#ad131502987658581d57cc18328d18aa5">01371</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#ad131502987658581d57cc18328d18aa5">DIR_ATT_DEFINED_BITS</a> = 0X3F;
<a name="l01377"></a><a class="code" href="_sd_fat_8h.html#a504c3d996b412f386becc27a8c49cd2c">01377</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a504c3d996b412f386becc27a8c49cd2c">DIR_IS_LONG_NAME</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir) {
<a name="l01378"></a>01378   <span class="keywordflow">return</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a983149395439fbc9ca8497076b75fd6b">attributes</a> &amp; <a class="code" href="_fat_structs_8h.html#a0aa5725dd4916058f0c6c06b09f83059">DIR_ATT_LONG_NAME_MASK</a>) == <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a>;
<a name="l01379"></a>01379 }
<a name="l01381"></a><a class="code" href="_sd_fat_8h.html#a40ed222fdb5b5c6b2f04268ab0ce20ca">01381</a> uint8_t <span class="keyword">const</span> <a class="code" href="_fat_structs_8h.html#a40ed222fdb5b5c6b2f04268ab0ce20ca">DIR_ATT_FILE_TYPE_MASK</a> = (<a class="code" href="_fat_structs_8h.html#af50cf547300f2cc5d33e7ab457b5a200">DIR_ATT_VOLUME_ID</a> | <a class="code" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a>);
<a name="l01387"></a><a class="code" href="_sd_fat_8h.html#a5ce8bde4d6ff3950df951e84c7bb8d58">01387</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a5ce8bde4d6ff3950df951e84c7bb8d58">DIR_IS_FILE</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir) {
<a name="l01388"></a>01388   <span class="keywordflow">return</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a983149395439fbc9ca8497076b75fd6b">attributes</a> &amp; <a class="code" href="_fat_structs_8h.html#a40ed222fdb5b5c6b2f04268ab0ce20ca">DIR_ATT_FILE_TYPE_MASK</a>) == 0;
<a name="l01389"></a>01389 }
<a name="l01395"></a><a class="code" href="_sd_fat_8h.html#ace8ed88fcb41afc4d2fe0eabf96e71c6">01395</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#ace8ed88fcb41afc4d2fe0eabf96e71c6">DIR_IS_SUBDIR</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir) {
<a name="l01396"></a>01396   <span class="keywordflow">return</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a983149395439fbc9ca8497076b75fd6b">attributes</a> &amp; <a class="code" href="_fat_structs_8h.html#a40ed222fdb5b5c6b2f04268ab0ce20ca">DIR_ATT_FILE_TYPE_MASK</a>) == <a class="code" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a>;
<a name="l01397"></a>01397 }
<a name="l01403"></a><a class="code" href="_sd_fat_8h.html#a9d99b04fa090825a9b9c2468fa81e627">01403</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir) {
<a name="l01404"></a>01404   <span class="keywordflow">return</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a983149395439fbc9ca8497076b75fd6b">attributes</a> &amp; <a class="code" href="_fat_structs_8h.html#af50cf547300f2cc5d33e7ab457b5a200">DIR_ATT_VOLUME_ID</a>) == 0;
<a name="l01405"></a>01405 }
<a name="l01406"></a>01406 
<a name="l01407"></a>01407 <span class="comment">//==============================================================================</span>
<a name="l01408"></a>01408 <span class="comment">// SdVolume class</span>
<a name="l01412"></a><a class="code" href="unioncache__t.html">01412</a> <span class="comment"></span><span class="keyword">union </span><a class="code" href="unioncache__t.html" title="Cache for an SD data block.">cache_t</a> {
<a name="l01414"></a><a class="code" href="unioncache__t.html#a3d71d6f767b902517cdc2a90b93d93ef">01414</a>   uint8_t  <a class="code" href="unioncache__t.html#a3d71d6f767b902517cdc2a90b93d93ef">data</a>[512];
<a name="l01416"></a><a class="code" href="unioncache__t.html#afbc2aee9e685ba2ec0b2a3e4cfbaefed">01416</a>   uint16_t <a class="code" href="unioncache__t.html#afbc2aee9e685ba2ec0b2a3e4cfbaefed">fat16</a>[256];
<a name="l01418"></a><a class="code" href="unioncache__t.html#ae7eca49d4c578b2d41d0ca2edfa65a11">01418</a>   uint32_t <a class="code" href="unioncache__t.html#ae7eca49d4c578b2d41d0ca2edfa65a11">fat32</a>[128];
<a name="l01420"></a><a class="code" href="unioncache__t.html#a6d2e24ad404317d817f7691495f9fa5b">01420</a>   <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>    <a class="code" href="unioncache__t.html#a6d2e24ad404317d817f7691495f9fa5b">dir</a>[16];
<a name="l01422"></a><a class="code" href="unioncache__t.html#ab085ad5652aa1dcd3d1c289126acb76e">01422</a>   <a class="code" href="structmaster_boot_record.html" title="Master Boot Record.">mbr_t</a>    <a class="code" href="unioncache__t.html#ab085ad5652aa1dcd3d1c289126acb76e">mbr</a>;
<a name="l01424"></a><a class="code" href="unioncache__t.html#af7dac1f364d9df2fab1065761459085a">01424</a>   <a class="code" href="structfat__boot.html" title="Boot sector for a FAT12/FAT16 volume.">fat_boot_t</a> <a class="code" href="unioncache__t.html#af7dac1f364d9df2fab1065761459085a">fbs</a>;
<a name="l01426"></a><a class="code" href="unioncache__t.html#a8a286df1a2c7d0d8c19f0bc92f4a37a0">01426</a>   <a class="code" href="structfat32__boot.html" title="Boot sector for a FAT32 volume.">fat32_boot_t</a> <a class="code" href="unioncache__t.html#a8a286df1a2c7d0d8c19f0bc92f4a37a0">fbs32</a>;
<a name="l01428"></a><a class="code" href="unioncache__t.html#ad5b9c8824c92202c5f442fd4da58772a">01428</a>   <a class="code" href="structfat32__fsinfo.html" title="FSINFO sector for a FAT32 volume.">fat32_fsinfo_t</a> <a class="code" href="unioncache__t.html#ad5b9c8824c92202c5f442fd4da58772a">fsinfo</a>;
<a name="l01429"></a>01429 };
<a name="l01430"></a>01430 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01435"></a><a class="code" href="class_sd_volume.html">01435</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a> {
<a name="l01436"></a>01436  <span class="keyword">public</span>:
<a name="l01438"></a><a class="code" href="class_sd_volume.html#a8946a066e838455b790485f0f0b84a30">01438</a>   <a class="code" href="class_sd_volume.html#a8946a066e838455b790485f0f0b84a30">SdVolume</a>() : <a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">fatType_</a>(0) {}
<a name="l01443"></a><a class="code" href="class_sd_volume.html#aeb92f3b3c0e81e39f4dd123106f882a3">01443</a>   <a class="code" href="unioncache__t.html" title="Cache for an SD data block.">cache_t</a>* <a class="code" href="class_sd_volume.html#aeb92f3b3c0e81e39f4dd123106f882a3">cacheClear</a>() {
<a name="l01444"></a>01444     <span class="keywordflow">if</span> (!<a class="code" href="class_sd_volume.html#a8f6240faed1d05713227cafef110415d">cacheFlush</a>()) <span class="keywordflow">return</span> 0;
<a name="l01445"></a>01445     <a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">cacheBlockNumber_</a> = 0XFFFFFFFF;
<a name="l01446"></a>01446     <span class="keywordflow">return</span> &amp;<a class="code" href="class_sd_volume.html#a2cc1a626151e1ae372cab5540c740a9c">cacheBuffer_</a>;
<a name="l01447"></a>01447   }
<a name="l01458"></a><a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">01458</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">init</a>(<a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* dev) { <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">init</a>(dev, 1) ? <span class="keyword">true</span> : <a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">init</a>(dev, 0);}
<a name="l01459"></a>01459   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">init</a>(<a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* dev, uint8_t part);
<a name="l01460"></a>01460 
<a name="l01461"></a>01461   <span class="comment">// inline functions that return volume info</span>
<a name="l01463"></a><a class="code" href="class_sd_volume.html#a8e6f1dd240dc430fdd1caf9742a56a7e">01463</a> <span class="comment"></span>  uint8_t <a class="code" href="class_sd_volume.html#a8e6f1dd240dc430fdd1caf9742a56a7e">blocksPerCluster</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a034c6d16845c12e97738ea5841cd69a9">blocksPerCluster_</a>;}
<a name="l01465"></a><a class="code" href="class_sd_volume.html#aa3b929c0b3148bcef7622028d6978b8c">01465</a>   uint32_t <a class="code" href="class_sd_volume.html#aa3b929c0b3148bcef7622028d6978b8c">blocksPerFat</a>()<span class="keyword">  const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#af1780962a496439ff8af6946df50c6fd">blocksPerFat_</a>;}
<a name="l01467"></a><a class="code" href="class_sd_volume.html#afcf5e92320a02c89758f5b07f8426d53">01467</a>   uint32_t <a class="code" href="class_sd_volume.html#afcf5e92320a02c89758f5b07f8426d53">clusterCount</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a903dab7955c7199a1b8dcbab453627de">clusterCount_</a>;}
<a name="l01469"></a><a class="code" href="class_sd_volume.html#aabed24c62fcedb89c4218b02c3763ae6">01469</a>   uint8_t <a class="code" href="class_sd_volume.html#aabed24c62fcedb89c4218b02c3763ae6">clusterSizeShift</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a1756eeefb2456c7a5fe12139ca5e16ff">clusterSizeShift_</a>;}
<a name="l01471"></a><a class="code" href="class_sd_volume.html#ae95e3f4239d7ccb74d45a7e0cc4f499c">01471</a>   uint32_t <a class="code" href="class_sd_volume.html#ae95e3f4239d7ccb74d45a7e0cc4f499c">dataStartBlock</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a82c9b8371cb024e277704da07f3b21cf">dataStartBlock_</a>;}
<a name="l01473"></a><a class="code" href="class_sd_volume.html#a01935bdcf6a336f292102f7f23a2a38f">01473</a>   uint8_t <a class="code" href="class_sd_volume.html#a01935bdcf6a336f292102f7f23a2a38f">fatCount</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#ade92bd3ab96c8a11ae6e20139ed7bb8b">fatCount_</a>;}
<a name="l01475"></a><a class="code" href="class_sd_volume.html#a1ff040834f446f329e00cc71284d92fc">01475</a>   uint32_t <a class="code" href="class_sd_volume.html#a1ff040834f446f329e00cc71284d92fc">fatStartBlock</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a1eb3811c3747ab9c7cdecc5e19603522">fatStartBlock_</a>;}
<a name="l01477"></a><a class="code" href="class_sd_volume.html#ab14a92a01d77303d73fd5acd54ffbc16">01477</a>   uint8_t <a class="code" href="class_sd_volume.html#ab14a92a01d77303d73fd5acd54ffbc16">fatType</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">fatType_</a>;}
<a name="l01478"></a>01478   int32_t <a class="code" href="class_sd_volume.html#ae00ae9399f79dd2173e9957cf7e274f8">freeClusterCount</a>();
<a name="l01480"></a><a class="code" href="class_sd_volume.html#abc35aae90237c3a555574e94d5763f18">01480</a>   uint32_t <a class="code" href="class_sd_volume.html#abc35aae90237c3a555574e94d5763f18">rootDirEntryCount</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a557d01e917256bf2664edbe547b2c6f8">rootDirEntryCount_</a>;}
<a name="l01483"></a><a class="code" href="class_sd_volume.html#a9867c10a00c41a6c23471287be38ced3">01483</a>   uint32_t <a class="code" href="class_sd_volume.html#a9867c10a00c41a6c23471287be38ced3">rootDirStart</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a6c73bc9622358cc717df0290dcfc226c">rootDirStart_</a>;}
<a name="l01487"></a><a class="code" href="class_sd_volume.html#adf6dac7ae17bdf477d077482dc4d76d7">01487</a>   <a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* <a class="code" href="class_sd_volume.html#adf6dac7ae17bdf477d077482dc4d76d7">sdCard</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">sdCard_</a>;}
<a name="l01494"></a><a class="code" href="class_sd_volume.html#a6359ecffed0d28a726e355ea86089899">01494</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a6359ecffed0d28a726e355ea86089899">dbgFat</a>(uint32_t n, uint32_t* v) {<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#acab4b43b1042289f8b965c66116685c5">fatGet</a>(n, v);}
<a name="l01495"></a>01495 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01496"></a>01496  <span class="keyword">private</span>:
<a name="l01497"></a>01497   <span class="comment">// Allow SdBaseFile access to SdVolume private data.</span>
<a name="l01498"></a><a class="code" href="class_sd_volume.html#a05e466c179d34fec11c4406677fe0533">01498</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>;
<a name="l01499"></a>01499 
<a name="l01500"></a>01500   <span class="comment">// value for dirty argument in cacheRawBlock to indicate read from cache</span>
<a name="l01501"></a><a class="code" href="class_sd_volume.html#a598cd5ee76563fcb8aa82c2c14d51426">01501</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">const</span> <a class="code" href="class_sd_volume.html#a598cd5ee76563fcb8aa82c2c14d51426">CACHE_FOR_READ</a> = <span class="keyword">false</span>;
<a name="l01502"></a>01502   <span class="comment">// value for dirty argument in cacheRawBlock to indicate write to cache</span>
<a name="l01503"></a><a class="code" href="class_sd_volume.html#a7cc6b88576b56f77b2be91b55c86e99b">01503</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">const</span> <a class="code" href="class_sd_volume.html#a7cc6b88576b56f77b2be91b55c86e99b">CACHE_FOR_WRITE</a> = <span class="keyword">true</span>;
<a name="l01504"></a>01504 
<a name="l01505"></a>01505 <span class="preprocessor">#if USE_MULTIPLE_CARDS</span>
<a name="l01506"></a>01506 <span class="preprocessor"></span>  <a class="code" href="unioncache__t.html" title="Cache for an SD data block.">cache_t</a> <a class="code" href="class_sd_volume.html#a2cc1a626151e1ae372cab5540c740a9c">cacheBuffer_</a>;        <span class="comment">// 512 byte cache for device blocks</span>
<a name="l01507"></a>01507   uint32_t <a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">cacheBlockNumber_</a>;  <span class="comment">// Logical number of block in the cache</span>
<a name="l01508"></a>01508   <a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* <a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">sdCard_</a>;            <span class="comment">// Sd2Card object for cache</span>
<a name="l01509"></a>01509   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a14df7a95b9789104d25885ee202ab94e">cacheDirty_</a>;            <span class="comment">// cacheFlush() will write block if true</span>
<a name="l01510"></a>01510   uint32_t <a class="code" href="class_sd_volume.html#a1ef6877e2e738b66d5ffebddcc8d59f3">cacheMirrorBlock_</a>;  <span class="comment">// block number for mirror FAT</span>
<a name="l01511"></a>01511 <span class="preprocessor">#else  // USE_MULTIPLE_CARDS</span>
<a name="l01512"></a><a class="code" href="class_sd_volume.html#a2cc1a626151e1ae372cab5540c740a9c">01512</a> <span class="preprocessor"></span>  <span class="keyword">static</span> <a class="code" href="unioncache__t.html" title="Cache for an SD data block.">cache_t</a> <a class="code" href="class_sd_volume.html#a2cc1a626151e1ae372cab5540c740a9c">cacheBuffer_</a>;        <span class="comment">// 512 byte cache for device blocks</span>
<a name="l01513"></a><a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">01513</a>   <span class="keyword">static</span> uint32_t <a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">cacheBlockNumber_</a>;  <span class="comment">// Logical number of block in the cache</span>
<a name="l01514"></a><a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">01514</a>   <span class="keyword">static</span> <a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* <a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">sdCard_</a>;            <span class="comment">// Sd2Card object for cache</span>
<a name="l01515"></a><a class="code" href="class_sd_volume.html#a14df7a95b9789104d25885ee202ab94e">01515</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a14df7a95b9789104d25885ee202ab94e">cacheDirty_</a>;            <span class="comment">// cacheFlush() will write block if true</span>
<a name="l01516"></a><a class="code" href="class_sd_volume.html#a1ef6877e2e738b66d5ffebddcc8d59f3">01516</a>   <span class="keyword">static</span> uint32_t <a class="code" href="class_sd_volume.html#a1ef6877e2e738b66d5ffebddcc8d59f3">cacheMirrorBlock_</a>;  <span class="comment">// block number for mirror FAT</span>
<a name="l01517"></a>01517 <span class="preprocessor">#endif  // USE_MULTIPLE_CARDS</span>
<a name="l01518"></a><a class="code" href="class_sd_volume.html#a8971134e76e36a58bc13dd08960f7355">01518</a> <span class="preprocessor"></span>  uint32_t <a class="code" href="class_sd_volume.html#a8971134e76e36a58bc13dd08960f7355">allocSearchStart_</a>;   <span class="comment">// start cluster for alloc search</span>
<a name="l01519"></a><a class="code" href="class_sd_volume.html#a034c6d16845c12e97738ea5841cd69a9">01519</a>   uint8_t <a class="code" href="class_sd_volume.html#a034c6d16845c12e97738ea5841cd69a9">blocksPerCluster_</a>;    <span class="comment">// cluster size in blocks</span>
<a name="l01520"></a><a class="code" href="class_sd_volume.html#af1780962a496439ff8af6946df50c6fd">01520</a>   uint32_t <a class="code" href="class_sd_volume.html#af1780962a496439ff8af6946df50c6fd">blocksPerFat_</a>;       <span class="comment">// FAT size in blocks</span>
<a name="l01521"></a><a class="code" href="class_sd_volume.html#a903dab7955c7199a1b8dcbab453627de">01521</a>   uint32_t <a class="code" href="class_sd_volume.html#a903dab7955c7199a1b8dcbab453627de">clusterCount_</a>;       <span class="comment">// clusters in one FAT</span>
<a name="l01522"></a><a class="code" href="class_sd_volume.html#a1756eeefb2456c7a5fe12139ca5e16ff">01522</a>   uint8_t <a class="code" href="class_sd_volume.html#a1756eeefb2456c7a5fe12139ca5e16ff">clusterSizeShift_</a>;    <span class="comment">// shift to convert cluster count to block count</span>
<a name="l01523"></a><a class="code" href="class_sd_volume.html#a82c9b8371cb024e277704da07f3b21cf">01523</a>   uint32_t <a class="code" href="class_sd_volume.html#a82c9b8371cb024e277704da07f3b21cf">dataStartBlock_</a>;     <span class="comment">// first data block number</span>
<a name="l01524"></a><a class="code" href="class_sd_volume.html#ade92bd3ab96c8a11ae6e20139ed7bb8b">01524</a>   uint8_t <a class="code" href="class_sd_volume.html#ade92bd3ab96c8a11ae6e20139ed7bb8b">fatCount_</a>;            <span class="comment">// number of FATs on volume</span>
<a name="l01525"></a><a class="code" href="class_sd_volume.html#a1eb3811c3747ab9c7cdecc5e19603522">01525</a>   uint32_t <a class="code" href="class_sd_volume.html#a1eb3811c3747ab9c7cdecc5e19603522">fatStartBlock_</a>;      <span class="comment">// start block for first FAT</span>
<a name="l01526"></a><a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">01526</a>   uint8_t <a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">fatType_</a>;             <span class="comment">// volume type (12, 16, OR 32)</span>
<a name="l01527"></a><a class="code" href="class_sd_volume.html#a557d01e917256bf2664edbe547b2c6f8">01527</a>   uint16_t <a class="code" href="class_sd_volume.html#a557d01e917256bf2664edbe547b2c6f8">rootDirEntryCount_</a>;  <span class="comment">// number of entries in FAT16 root dir</span>
<a name="l01528"></a><a class="code" href="class_sd_volume.html#a6c73bc9622358cc717df0290dcfc226c">01528</a>   uint32_t <a class="code" href="class_sd_volume.html#a6c73bc9622358cc717df0290dcfc226c">rootDirStart_</a>;       <span class="comment">// root start block for FAT16, cluster for FAT32</span>
<a name="l01529"></a>01529   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01530"></a>01530   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a5d40516ac800b55c55a377419c1d7d8b">allocContiguous</a>(uint32_t count, uint32_t* <a class="code" href="class_sd_base_file.html#ab5cffcf9871ff99fc7ed9caef94d1849">curCluster</a>);
<a name="l01531"></a><a class="code" href="class_sd_volume.html#a40416a35beda5b5b7ebf000d274d80e5">01531</a>   uint8_t <a class="code" href="class_sd_volume.html#a40416a35beda5b5b7ebf000d274d80e5">blockOfCluster</a>(uint32_t position)<span class="keyword"> const </span>{
<a name="l01532"></a>01532           <span class="keywordflow">return</span> (position &gt;&gt; 9) &amp; (<a class="code" href="class_sd_volume.html#a034c6d16845c12e97738ea5841cd69a9">blocksPerCluster_</a> - 1);}
<a name="l01533"></a><a class="code" href="class_sd_volume.html#a1a7376b8098a3b1f5d6a125e4f985d58">01533</a>   uint32_t <a class="code" href="class_sd_volume.html#a1a7376b8098a3b1f5d6a125e4f985d58">clusterStartBlock</a>(uint32_t cluster)<span class="keyword"> const </span>{
<a name="l01534"></a>01534            <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a82c9b8371cb024e277704da07f3b21cf">dataStartBlock_</a> + ((cluster - 2) &lt;&lt; <a class="code" href="class_sd_volume.html#a1756eeefb2456c7a5fe12139ca5e16ff">clusterSizeShift_</a>);}
<a name="l01535"></a><a class="code" href="class_sd_volume.html#ab46d2008c87d7604e1aff44ebcb9734f">01535</a>   <a class="code" href="unioncache__t.html" title="Cache for an SD data block.">cache_t</a> *<a class="code" href="class_sd_volume.html#ab46d2008c87d7604e1aff44ebcb9734f">cache</a>() {<span class="keywordflow">return</span> &amp;<a class="code" href="class_sd_volume.html#a2cc1a626151e1ae372cab5540c740a9c">cacheBuffer_</a>;}
<a name="l01536"></a><a class="code" href="class_sd_volume.html#a72b2590d65ddecf9b64c055e6ca2e875">01536</a>   uint32_t <a class="code" href="class_sd_volume.html#a72b2590d65ddecf9b64c055e6ca2e875">cacheBlockNumber</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">cacheBlockNumber_</a>;}
<a name="l01537"></a>01537 <span class="preprocessor">#if USE_MULTIPLE_CARDS</span>
<a name="l01538"></a>01538 <span class="preprocessor"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a8f6240faed1d05713227cafef110415d">cacheFlush</a>();
<a name="l01539"></a>01539   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a3b1c8114c2fbc13253c7f2935e758b5a">cacheRawBlock</a>(uint32_t blockNumber, <span class="keywordtype">bool</span> dirty);
<a name="l01540"></a>01540 <span class="preprocessor">#else  // USE_MULTIPLE_CARDS</span>
<a name="l01541"></a>01541 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a8f6240faed1d05713227cafef110415d">cacheFlush</a>();
<a name="l01542"></a>01542   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a3b1c8114c2fbc13253c7f2935e758b5a">cacheRawBlock</a>(uint32_t blockNumber, <span class="keywordtype">bool</span> dirty);
<a name="l01543"></a>01543 <span class="preprocessor">#endif  // USE_MULTIPLE_CARDS</span>
<a name="l01544"></a>01544 <span class="preprocessor"></span>  <span class="comment">// used by SdBaseFile write to assign cache to SD location</span>
<a name="l01545"></a><a class="code" href="class_sd_volume.html#a49e372a24edd4db3414dcd64bd7caf34">01545</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd_volume.html#a49e372a24edd4db3414dcd64bd7caf34">cacheSetBlockNumber</a>(uint32_t blockNumber, <span class="keywordtype">bool</span> dirty) {
<a name="l01546"></a>01546     <a class="code" href="class_sd_volume.html#a14df7a95b9789104d25885ee202ab94e">cacheDirty_</a> = dirty;
<a name="l01547"></a>01547     <a class="code" href="class_sd_volume.html#aff7820d33e7459503afe447ccd6fb867">cacheBlockNumber_</a>  = blockNumber;
<a name="l01548"></a>01548   }
<a name="l01549"></a><a class="code" href="class_sd_volume.html#ae876a84440f2b348c97172183725709b">01549</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd_volume.html#ae876a84440f2b348c97172183725709b">cacheSetDirty</a>() {<a class="code" href="class_sd_volume.html#a14df7a95b9789104d25885ee202ab94e">cacheDirty_</a> |= <a class="code" href="class_sd_volume.html#a7cc6b88576b56f77b2be91b55c86e99b">CACHE_FOR_WRITE</a>;}
<a name="l01550"></a>01550   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a6f3aedc491506782043bab09bf55535f">chainSize</a>(uint32_t beginCluster, uint32_t* size);
<a name="l01551"></a>01551   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#acab4b43b1042289f8b965c66116685c5">fatGet</a>(uint32_t cluster, uint32_t* value);
<a name="l01552"></a>01552   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a6e1860556a3da9a39e1d2cf5689fe7b4">fatPut</a>(uint32_t cluster, uint32_t value);
<a name="l01553"></a><a class="code" href="class_sd_volume.html#a24e8af77381a24055df652f120cd1cef">01553</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a24e8af77381a24055df652f120cd1cef">fatPutEOC</a>(uint32_t cluster) {
<a name="l01554"></a>01554     <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a6e1860556a3da9a39e1d2cf5689fe7b4">fatPut</a>(cluster, 0x0FFFFFFF);
<a name="l01555"></a>01555   }
<a name="l01556"></a>01556   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#afa90e695e69765a7d3c22a399187667f">freeChain</a>(uint32_t cluster);
<a name="l01557"></a><a class="code" href="class_sd_volume.html#abe0fc33c22e66bc9ebc7635058b5d045">01557</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#abe0fc33c22e66bc9ebc7635058b5d045">isEOC</a>(uint32_t cluster)<span class="keyword"> const </span>{
<a name="l01558"></a>01558     <span class="keywordflow">if</span> (<a class="code" href="_sd_fat_8h.html#a28998c5daf4bd038f4f93172698320b1">FAT12_SUPPORT</a> &amp;&amp; <a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">fatType_</a> == 12) <span class="keywordflow">return</span>  cluster &gt;= <a class="code" href="_sd_fat_8h.html#af1754604787f709306101dcc04391ff2">FAT12EOC_MIN</a>;
<a name="l01559"></a>01559     <span class="keywordflow">if</span> (<a class="code" href="class_sd_volume.html#a6f0521bb1c1bad2b0ff5109d6a6320e3">fatType_</a> == 16) <span class="keywordflow">return</span> cluster &gt;= <a class="code" href="_fat_structs_8h.html#a79b2cefbcfdbf3507fe0496804541b0d">FAT16EOC_MIN</a>;
<a name="l01560"></a>01560     <span class="keywordflow">return</span>  cluster &gt;= <a class="code" href="_fat_structs_8h.html#af5bcc97de8cc4956435d06349d6e714b">FAT32EOC_MIN</a>;
<a name="l01561"></a>01561   }
<a name="l01562"></a><a class="code" href="class_sd_volume.html#a2d3c126910c2c0c9d6ac468a459eec39">01562</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a2d3c126910c2c0c9d6ac468a459eec39">readBlock</a>(uint32_t block, uint8_t* dst) {
<a name="l01563"></a>01563     <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">sdCard_</a>-&gt;<a class="code" href="class_sd2_card.html#a2d3c126910c2c0c9d6ac468a459eec39">readBlock</a>(block, dst);}
<a name="l01564"></a><a class="code" href="class_sd_volume.html#a71ab95c288539ccc64a48184bab860ae">01564</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a71ab95c288539ccc64a48184bab860ae">writeBlock</a>(uint32_t block, <span class="keyword">const</span> uint8_t* dst) {
<a name="l01565"></a>01565     <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a4af785acfbe605270a1270eabd99eec0">sdCard_</a>-&gt;<a class="code" href="class_sd2_card.html#af3f9516d0822ed675bf92a56c96ebf71">writeBlock</a>(block, dst);
<a name="l01566"></a>01566   }
<a name="l01567"></a>01567 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01568"></a>01568   <span class="comment">// Deprecated functions  - suppress cpplint warnings with NOLINT comment</span>
<a name="l01569"></a>01569 <span class="preprocessor">#if ALLOW_DEPRECATED_FUNCTIONS &amp;&amp; !defined(DOXYGEN)</span>
<a name="l01570"></a>01570 <span class="preprocessor"></span>
<a name="l01571"></a>01571  <span class="keyword">public</span>:
<a name="l01576"></a><a class="code" href="class_sd_volume.html#a4fc7199bb9551202ce2f8e17db87e03f">01576</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#a4fc7199bb9551202ce2f8e17db87e03f">init</a>(<a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>&amp; dev) {<span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#a4fc7199bb9551202ce2f8e17db87e03f">init</a>(&amp;dev);}  <span class="comment">// NOLINT</span>
<a name="l01582"></a><a class="code" href="class_sd_volume.html#ac818e3d58b624dcd91ae8858708e25c8">01582</a> <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_sd_volume.html#ac818e3d58b624dcd91ae8858708e25c8">init</a>(<a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>&amp; dev, uint8_t part) {  <span class="comment">// NOLINT</span>
<a name="l01583"></a>01583     <span class="keywordflow">return</span> <a class="code" href="class_sd_volume.html#ada2a0a79cd7ce879d8c6daf35ad86834">init</a>(&amp;dev, part);
<a name="l01584"></a>01584   }
<a name="l01585"></a>01585 <span class="preprocessor">#endif  // ALLOW_DEPRECATED_FUNCTIONS</span>
<a name="l01586"></a>01586 <span class="preprocessor"></span>};
<a name="l01587"></a>01587 
<a name="l01588"></a>01588 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01594"></a><a class="code" href="structfpos__t.html">01594</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structfpos__t.html" title="internal type for istream do not use in user apps">fpos_t</a> {
<a name="l01596"></a><a class="code" href="structfpos__t.html#ac66edcab862b65e1d49ce97f9c74690c">01596</a>   uint32_t <a class="code" href="structfpos__t.html#ac66edcab862b65e1d49ce97f9c74690c">position</a>;
<a name="l01598"></a><a class="code" href="structfpos__t.html#a5cc194a79520802c25787f3072f8fe5b">01598</a>   uint32_t <a class="code" href="structfpos__t.html#a5cc194a79520802c25787f3072f8fe5b">cluster</a>;
<a name="l01599"></a><a class="code" href="structfpos__t.html#a8558a88fc56402fc3833a0d410669d1f">01599</a>   <a class="code" href="structfpos__t.html#a8558a88fc56402fc3833a0d410669d1f">fpos_t</a>() : <a class="code" href="structfpos__t.html#ac66edcab862b65e1d49ce97f9c74690c">position</a>(0), <a class="code" href="structfpos__t.html#a5cc194a79520802c25787f3072f8fe5b">cluster</a>(0) {}
<a name="l01600"></a>01600 };
<a name="l01601"></a>01601 
<a name="l01602"></a>01602 <span class="comment">// use the gnu style oflag in open()</span>
<a name="l01604"></a><a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">01604</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a> = 0X01;
<a name="l01606"></a><a class="code" href="_sd_fat_8h.html#ac13ca62d7e6f8f6d657d4607474652bf">01606</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac13ca62d7e6f8f6d657d4607474652bf">O_RDONLY</a> = <a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>;
<a name="l01608"></a><a class="code" href="_sd_fat_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">01608</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a> = 0X02;
<a name="l01610"></a><a class="code" href="_sd_fat_8h.html#a782767ee2580bb1566048017b254281d">01610</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a782767ee2580bb1566048017b254281d">O_WRONLY</a> = <a class="code" href="_sd_fat_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>;
<a name="l01612"></a><a class="code" href="_sd_fat_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">01612</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a> = (<a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a> | <a class="code" href="_sd_fat_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>);
<a name="l01614"></a><a class="code" href="_sd_fat_8h.html#a4efda39151f5ef2dc7fbd138be51336a">01614</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a4efda39151f5ef2dc7fbd138be51336a">O_ACCMODE</a> = (<a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a> | <a class="code" href="_sd_fat_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>);
<a name="l01616"></a><a class="code" href="_sd_fat_8h.html#a4242b37e810af3a6485adda0e08a9a2b">01616</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a> = 0X04;
<a name="l01618"></a><a class="code" href="_sd_fat_8h.html#a3066c471d52b056dec13fa567f7bbd9d">01618</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a> = 0X08;
<a name="l01620"></a><a class="code" href="_sd_fat_8h.html#a9dc438ff90d0c8af452331c339dbc08e">01620</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a9dc438ff90d0c8af452331c339dbc08e">O_TRUNC</a> = 0X10;
<a name="l01622"></a><a class="code" href="_sd_fat_8h.html#a409d6381c7eafaf7d8978e53b736b966">01622</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a409d6381c7eafaf7d8978e53b736b966">O_AT_END</a> = 0X20;
<a name="l01624"></a><a class="code" href="_sd_fat_8h.html#a20d0ef801486dd02de6ee482de731193">01624</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a> = 0X40;
<a name="l01626"></a><a class="code" href="_sd_fat_8h.html#ab5635d4288cb294c1ed000fa183e072b">01626</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a> = 0X80;
<a name="l01627"></a>01627 
<a name="l01628"></a>01628 <span class="comment">// SdBaseFile class static and const definitions</span>
<a name="l01629"></a>01629 <span class="comment">// flags for ls()</span>
<a name="l01631"></a><a class="code" href="_sd_fat_8h.html#ac78cfe032599ef1f5723c62106017fcd">01631</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac78cfe032599ef1f5723c62106017fcd">LS_DATE</a> = 1;
<a name="l01633"></a><a class="code" href="_sd_fat_8h.html#a8170e56f2df0139f3acd73c35636fa7f">01633</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a8170e56f2df0139f3acd73c35636fa7f">LS_SIZE</a> = 2;
<a name="l01635"></a><a class="code" href="_sd_fat_8h.html#af90ecd4124f4c2563b37174be91e76f9">01635</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#af90ecd4124f4c2563b37174be91e76f9">LS_R</a> = 4;
<a name="l01636"></a>01636 
<a name="l01637"></a>01637 
<a name="l01638"></a>01638 <span class="comment">// flags for timestamp</span>
<a name="l01640"></a><a class="code" href="_sd_fat_8h.html#a5f34ce6e95713d872ca6a640c8783462">01640</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a5f34ce6e95713d872ca6a640c8783462">T_ACCESS</a> = 1;
<a name="l01642"></a><a class="code" href="_sd_fat_8h.html#a533dc316f5a59209ac5e9c630d2df4c4">01642</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a533dc316f5a59209ac5e9c630d2df4c4">T_CREATE</a> = 2;
<a name="l01644"></a><a class="code" href="_sd_fat_8h.html#a2a6192fd0f5847783868deed6de53d1e">01644</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a2a6192fd0f5847783868deed6de53d1e">T_WRITE</a> = 4;
<a name="l01645"></a>01645 <span class="comment">// values for type_</span>
<a name="l01647"></a><a class="code" href="_sd_fat_8h.html#a4da8c96e256b06356321e81705494010">01647</a> <span class="comment"></span>uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a4da8c96e256b06356321e81705494010">FAT_FILE_TYPE_CLOSED</a> = 0;
<a name="l01649"></a><a class="code" href="_sd_fat_8h.html#a666774999b9afd627fdad75471101581">01649</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a666774999b9afd627fdad75471101581">FAT_FILE_TYPE_NORMAL</a> = 1;
<a name="l01651"></a><a class="code" href="_sd_fat_8h.html#a1bb2e8f6b6f90bbf4d02608cd267af42">01651</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a1bb2e8f6b6f90bbf4d02608cd267af42">FAT_FILE_TYPE_ROOT_FIXED</a> = 2;
<a name="l01653"></a><a class="code" href="_sd_fat_8h.html#a9a1a07cb1d09cfdb3cc53183c6e5dc57">01653</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a9a1a07cb1d09cfdb3cc53183c6e5dc57">FAT_FILE_TYPE_ROOT32</a> = 3;
<a name="l01655"></a><a class="code" href="_sd_fat_8h.html#ac301b0465fdd7953c6e110b9896cc9fd">01655</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#ac301b0465fdd7953c6e110b9896cc9fd">FAT_FILE_TYPE_SUBDIR</a> = 4;
<a name="l01657"></a><a class="code" href="_sd_fat_8h.html#abc9b0906aeeedfe122b0ca629bac889b">01657</a> uint8_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#abc9b0906aeeedfe122b0ca629bac889b">FAT_FILE_TYPE_MIN_DIR</a> = <a class="code" href="_sd_fat_8h.html#a1bb2e8f6b6f90bbf4d02608cd267af42">FAT_FILE_TYPE_ROOT_FIXED</a>;
<a name="l01658"></a>01658 
<a name="l01666"></a><a class="code" href="_sd_fat_8h.html#a44899ad42ddf32ff1c1a73b5251b304a">01666</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t <a class="code" href="_sd_fat_8h.html#a44899ad42ddf32ff1c1a73b5251b304a">FAT_DATE</a>(uint16_t year, uint8_t month, uint8_t day) {
<a name="l01667"></a>01667   <span class="keywordflow">return</span> (year - 1980) &lt;&lt; 9 | month &lt;&lt; 5 | day;
<a name="l01668"></a>01668 }
<a name="l01674"></a><a class="code" href="_sd_fat_8h.html#a279a75f907dd2603543c7bdad00ff603">01674</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t <a class="code" href="_sd_fat_8h.html#a279a75f907dd2603543c7bdad00ff603">FAT_YEAR</a>(uint16_t fatDate) {
<a name="l01675"></a>01675   <span class="keywordflow">return</span> 1980 + (fatDate &gt;&gt; 9);
<a name="l01676"></a>01676 }
<a name="l01682"></a><a class="code" href="_sd_fat_8h.html#a429bc2d96f5bc26dc3bd6cc2bd535b84">01682</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a429bc2d96f5bc26dc3bd6cc2bd535b84">FAT_MONTH</a>(uint16_t fatDate) {
<a name="l01683"></a>01683   <span class="keywordflow">return</span> (fatDate &gt;&gt; 5) &amp; 0XF;
<a name="l01684"></a>01684 }
<a name="l01690"></a><a class="code" href="_sd_fat_8h.html#a4cc8bc105529bf9e9c11e8ef099d68b0">01690</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a4cc8bc105529bf9e9c11e8ef099d68b0">FAT_DAY</a>(uint16_t fatDate) {
<a name="l01691"></a>01691   <span class="keywordflow">return</span> fatDate &amp; 0X1F;
<a name="l01692"></a>01692 }
<a name="l01700"></a><a class="code" href="_sd_fat_8h.html#a375720927be5a39475d48b2d75dae29a">01700</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint16_t <a class="code" href="_sd_fat_8h.html#a375720927be5a39475d48b2d75dae29a">FAT_TIME</a>(uint8_t hour, uint8_t minute, uint8_t second) {
<a name="l01701"></a>01701   <span class="keywordflow">return</span> hour &lt;&lt; 11 | minute &lt;&lt; 5 | second &gt;&gt; 1;
<a name="l01702"></a>01702 }
<a name="l01708"></a><a class="code" href="_sd_fat_8h.html#ae7c733d49a5570054f6db3bd53332ba1">01708</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#ae7c733d49a5570054f6db3bd53332ba1">FAT_HOUR</a>(uint16_t fatTime) {
<a name="l01709"></a>01709   <span class="keywordflow">return</span> fatTime &gt;&gt; 11;
<a name="l01710"></a>01710 }
<a name="l01716"></a><a class="code" href="_sd_fat_8h.html#a1b09676a41ae6c9e19664bdcd5b1d34e">01716</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a1b09676a41ae6c9e19664bdcd5b1d34e">FAT_MINUTE</a>(uint16_t fatTime) {
<a name="l01717"></a>01717   <span class="keywordflow">return</span>(fatTime &gt;&gt; 5) &amp; 0X3F;
<a name="l01718"></a>01718 }
<a name="l01726"></a><a class="code" href="_sd_fat_8h.html#a4d553e2088d42e01d6c08ee84e611b00">01726</a> <span class="keyword">static</span> <span class="keyword">inline</span> uint8_t <a class="code" href="_sd_fat_8h.html#a4d553e2088d42e01d6c08ee84e611b00">FAT_SECOND</a>(uint16_t fatTime) {
<a name="l01727"></a>01727   <span class="keywordflow">return</span> 2*(fatTime &amp; 0X1F);
<a name="l01728"></a>01728 }
<a name="l01730"></a><a class="code" href="_sd_fat_8h.html#a441bb1bc5f52d512656de3b86a279948">01730</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a441bb1bc5f52d512656de3b86a279948">FAT_DEFAULT_DATE</a> = ((2000 - 1980) &lt;&lt; 9) | (1 &lt;&lt; 5) | 1;
<a name="l01732"></a><a class="code" href="_sd_fat_8h.html#a00451fc2d3563a2255797bd1f40507fb">01732</a> uint16_t <span class="keyword">const</span> <a class="code" href="_sd_fat_8h.html#a00451fc2d3563a2255797bd1f40507fb">FAT_DEFAULT_TIME</a> = (1 &lt;&lt; 11);
<a name="l01733"></a>01733 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01738"></a><a class="code" href="class_sd_base_file.html">01738</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a> {
<a name="l01739"></a>01739  <span class="keyword">public</span>:
<a name="l01741"></a><a class="code" href="class_sd_base_file.html#a9e1a71e3766b3acc8171920ada4e7717">01741</a>   <a class="code" href="class_sd_base_file.html#a9e1a71e3766b3acc8171920ada4e7717">SdBaseFile</a>() : <a class="code" href="class_sd_base_file.html#a800e5043596b8bec0dd32076d3c9750c">writeError</a>(false), <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>(<a class="code" href="_sd_fat_8h.html#a4da8c96e256b06356321e81705494010">FAT_FILE_TYPE_CLOSED</a>) {}
<a name="l01742"></a>01742   <a class="code" href="class_sd_base_file.html#a9e1a71e3766b3acc8171920ada4e7717">SdBaseFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t oflag);
<a name="l01743"></a><a class="code" href="class_sd_base_file.html#a82c164ca83dc69f7551324a027ffe89e">01743</a>   <a class="code" href="class_sd_base_file.html#a82c164ca83dc69f7551324a027ffe89e">~SdBaseFile</a>() {<span class="keywordflow">if</span>(<a class="code" href="class_sd_base_file.html#a3c7351cec1380d07f9e4b3ec96b2b1ff">isOpen</a>()) <a class="code" href="class_sd_base_file.html#a46143fd6de3be9ab9951f140d3ae8c2f">close</a>();}
<a name="l01749"></a><a class="code" href="class_sd_base_file.html#a800e5043596b8bec0dd32076d3c9750c">01749</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a800e5043596b8bec0dd32076d3c9750c">writeError</a>;
<a name="l01751"></a><a class="code" href="class_sd_base_file.html#a9b199fded04cffe6a609465dce43fdcc">01751</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a9b199fded04cffe6a609465dce43fdcc">getWriteError</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a800e5043596b8bec0dd32076d3c9750c">writeError</a>;}
<a name="l01753"></a><a class="code" href="class_sd_base_file.html#af50f0c1e1c726ef3dee08a84456090b9">01753</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#af50f0c1e1c726ef3dee08a84456090b9">clearWriteError</a>() {<a class="code" href="class_sd_base_file.html#a800e5043596b8bec0dd32076d3c9750c">writeError</a> = 0;}
<a name="l01754"></a>01754   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01755"></a>01755   <span class="comment">// helpers for stream classes</span>
<a name="l01759"></a>01759 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a5c199c948d09245cbcab572d457989cb">getpos</a>(<a class="code" href="structfpos__t.html" title="internal type for istream do not use in user apps">fpos_t</a>* pos);
<a name="l01763"></a>01763   <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#aadbe16c070ea4d0df211c983f6945592">setpos</a>(<a class="code" href="structfpos__t.html" title="internal type for istream do not use in user apps">fpos_t</a>* pos);
<a name="l01764"></a>01764   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l01765"></a>01765   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a46143fd6de3be9ab9951f140d3ae8c2f">close</a>();
<a name="l01766"></a>01766   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a1934f84b25a170fbdfbee1f874c7a315">contiguousRange</a>(uint32_t* bgnBlock, uint32_t* endBlock);
<a name="l01767"></a>01767   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#aa541db9563ce4a0b765b11b10f76b449">createContiguous</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile,
<a name="l01768"></a>01768           <span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint32_t size);
<a name="l01770"></a><a class="code" href="class_sd_base_file.html#ab5cffcf9871ff99fc7ed9caef94d1849">01770</a>   uint32_t <a class="code" href="class_sd_base_file.html#ab5cffcf9871ff99fc7ed9caef94d1849">curCluster</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#aff23051fbe8e6ad2efa75c06390047d5">curCluster_</a>;}
<a name="l01772"></a><a class="code" href="class_sd_base_file.html#a4c56d435ee4c9cbc50c6f5aaf1e5d64d">01772</a>   uint32_t <a class="code" href="class_sd_base_file.html#a4c56d435ee4c9cbc50c6f5aaf1e5d64d">curPosition</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ade9334005143268ed5c81348abbffb4b">curPosition_</a>;}
<a name="l01774"></a><a class="code" href="class_sd_base_file.html#a2c5568d41d6270faa79b89323ae63c6d">01774</a>   <span class="keyword">static</span> <a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* <a class="code" href="class_sd_base_file.html#a2c5568d41d6270faa79b89323ae63c6d">cwd</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a00928c3349d354109e2413bcc58c5701">cwd_</a>;}
<a name="l01802"></a><a class="code" href="class_sd_base_file.html#ae89cdf7331e346cc8b7ce4a935c5b3e5">01802</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ae89cdf7331e346cc8b7ce4a935c5b3e5">dateTimeCallback</a>(
<a name="l01803"></a>01803     <span class="keywordtype">void</span> (*dateTime)(uint16_t* date, uint16_t* time)) {
<a name="l01804"></a>01804     <a class="code" href="class_sd_base_file.html#a0fbdf53a669c68035108f7e71804ebc2">dateTime_</a> = dateTime;
<a name="l01805"></a>01805   }
<a name="l01807"></a><a class="code" href="class_sd_base_file.html#aa8e3adbe61ae1e665819aa0f56c50169">01807</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#aa8e3adbe61ae1e665819aa0f56c50169">dateTimeCallbackCancel</a>() {<a class="code" href="class_sd_base_file.html#a0fbdf53a669c68035108f7e71804ebc2">dateTime_</a> = 0;}
<a name="l01808"></a>01808   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a5a55859ea4ca96697df8852acb2e76d1">dirEntry</a>(<a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir);
<a name="l01809"></a>01809   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a3d5d6e21ff652084fa88f8f7d902c5b5">dirName</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>&amp; dir, <span class="keywordtype">char</span>* name);
<a name="l01810"></a>01810   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ace1cb5fa7dac7c504114b2b24ec144d2">exists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
<a name="l01811"></a>01811   int16_t <a class="code" href="class_sd_base_file.html#af3081927d174cf7558953769f3dec7a3">fgets</a>(<span class="keywordtype">char</span>* str, int16_t num, <span class="keywordtype">char</span>* delim = 0);
<a name="l01813"></a><a class="code" href="class_sd_base_file.html#a134f35678a76fc9be1efe2c290483814">01813</a>   uint32_t <a class="code" href="class_sd_base_file.html#a134f35678a76fc9be1efe2c290483814">fileSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a95d9791fe91d8b1385fc1f11b1dccb83">fileSize_</a>;}
<a name="l01815"></a><a class="code" href="class_sd_base_file.html#a58d3a00e51805ee03012cb2c86414796">01815</a>   uint32_t <a class="code" href="class_sd_base_file.html#a58d3a00e51805ee03012cb2c86414796">firstCluster</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a3ef82733a6bdd87b2f4a3128d2ad510d">firstCluster_</a>;}
<a name="l01816"></a>01816   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a6ee2b08977084de3a31d1509d7a8e6af">getFilename</a>(<span class="keywordtype">char</span>* name);
<a name="l01818"></a><a class="code" href="class_sd_base_file.html#a50918fb073b73ccef883870dfb705d74">01818</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a50918fb073b73ccef883870dfb705d74">isDir</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> &gt;= <a class="code" href="_sd_fat_8h.html#abc9b0906aeeedfe122b0ca629bac889b">FAT_FILE_TYPE_MIN_DIR</a>;}
<a name="l01820"></a><a class="code" href="class_sd_base_file.html#aee673f3d8abf2d1bfd841274900fd40a">01820</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#aee673f3d8abf2d1bfd841274900fd40a">isFile</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> == <a class="code" href="_sd_fat_8h.html#a666774999b9afd627fdad75471101581">FAT_FILE_TYPE_NORMAL</a>;}
<a name="l01822"></a><a class="code" href="class_sd_base_file.html#a3c7351cec1380d07f9e4b3ec96b2b1ff">01822</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a3c7351cec1380d07f9e4b3ec96b2b1ff">isOpen</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> != <a class="code" href="_sd_fat_8h.html#a4da8c96e256b06356321e81705494010">FAT_FILE_TYPE_CLOSED</a>;}
<a name="l01824"></a><a class="code" href="class_sd_base_file.html#a8a0d7f6a7297d2b9772c4033b2296d56">01824</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a8a0d7f6a7297d2b9772c4033b2296d56">isSubDir</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> == <a class="code" href="_sd_fat_8h.html#ac301b0465fdd7953c6e110b9896cc9fd">FAT_FILE_TYPE_SUBDIR</a>;}
<a name="l01826"></a><a class="code" href="class_sd_base_file.html#adb67b2a249620b49f23a8bc03cbdb3b0">01826</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#adb67b2a249620b49f23a8bc03cbdb3b0">isRoot</a>()<span class="keyword"> const </span>{
<a name="l01827"></a>01827     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> == <a class="code" href="_sd_fat_8h.html#a1bb2e8f6b6f90bbf4d02608cd267af42">FAT_FILE_TYPE_ROOT_FIXED</a> || <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a> == <a class="code" href="_sd_fat_8h.html#a9a1a07cb1d09cfdb3cc53183c6e5dc57">FAT_FILE_TYPE_ROOT32</a>;
<a name="l01828"></a>01828   }
<a name="l01829"></a>01829   <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ab4ab4da84ebfc68fe4c3035d156fab59">ls</a>(Print* pr, uint8_t flags = 0, uint8_t indent = 0);
<a name="l01830"></a>01830   <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ab4ab4da84ebfc68fe4c3035d156fab59">ls</a>(uint8_t flags = 0);
<a name="l01831"></a>01831   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a204a0b140efe0da51252fab0fd3bddcc">mkdir</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dir, <span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">bool</span> pFlag = <span class="keyword">true</span>);
<a name="l01832"></a>01832   <span class="comment">// alias for backward compactability</span>
<a name="l01833"></a><a class="code" href="class_sd_base_file.html#a920b65592f1ba58c38c01e0518ae94c9">01833</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a920b65592f1ba58c38c01e0518ae94c9">makeDir</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dir, <span class="keyword">const</span> <span class="keywordtype">char</span>* path) {
<a name="l01834"></a>01834     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a204a0b140efe0da51252fab0fd3bddcc">mkdir</a>(dir, path, <span class="keyword">false</span>);
<a name="l01835"></a>01835   }
<a name="l01836"></a>01836   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, uint16_t index, uint8_t oflag);
<a name="l01837"></a>01837   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t oflag);
<a name="l01838"></a>01838   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t oflag = <a class="code" href="_sd_fat_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>);
<a name="l01839"></a>01839   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#abd013dab96da2ef4253c7ddc9cddf14a">openNext</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, uint8_t oflag);
<a name="l01840"></a>01840   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a2e90ca886ca5681df690eeb646758aa5">openRoot</a>(<a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a>* vol);
<a name="l01841"></a>01841   <span class="keywordtype">int</span> <a class="code" href="class_sd_base_file.html#a9040fa1d479d71edf3a826f4691c35c4">peek</a>();
<a name="l01842"></a>01842   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a37fb3af46ea3958c7c7bdc11f3dff345">printCreateDateTime</a>(Print* pr);
<a name="l01843"></a>01843   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a56d33961896e2a571012c6f64f69f86e">printFatDate</a>(uint16_t fatDate);
<a name="l01844"></a>01844   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a56d33961896e2a571012c6f64f69f86e">printFatDate</a>(Print* pr, uint16_t fatDate);
<a name="l01845"></a>01845   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a93fd2d0e3e1a51127dd59815c3ad92a3">printFatTime</a>(uint16_t fatTime);
<a name="l01846"></a>01846   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a93fd2d0e3e1a51127dd59815c3ad92a3">printFatTime</a>(Print* pr, uint16_t fatTime);
<a name="l01847"></a>01847   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a9a50d259cda61d39b96e4c5ee8a2e45a">printModifyDateTime</a>(Print* pr);
<a name="l01848"></a>01848   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a57f9e42369a4b97e6b21ed0040115e17">printName</a>();
<a name="l01849"></a>01849   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a57f9e42369a4b97e6b21ed0040115e17">printName</a>(Print* pr);
<a name="l01850"></a>01850   int16_t <a class="code" href="class_sd_base_file.html#a5a4c0ff07215b20f25d11fef7710ed59">read</a>();
<a name="l01851"></a>01851   int16_t <a class="code" href="class_sd_base_file.html#a5a4c0ff07215b20f25d11fef7710ed59">read</a>(<span class="keywordtype">void</span>* buf, uint16_t nbyte);
<a name="l01852"></a>01852   int8_t <a class="code" href="class_sd_base_file.html#addfe59dc0e7a6a8a88e9b7ecf5b51860">readDir</a>(<a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* dir);
<a name="l01853"></a>01853   <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* path);
<a name="l01854"></a>01854   <span class="keywordtype">bool</span> <span class="keyword">remove</span>();
<a name="l01856"></a><a class="code" href="class_sd_base_file.html#ab8734e666421c9fe3b6380a818c6c727">01856</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ab8734e666421c9fe3b6380a818c6c727">rewind</a>() {<a class="code" href="class_sd_base_file.html#a37e6f66b2ccbd829cf7a62a5d3bcc0b3">seekSet</a>(0);}
<a name="l01857"></a>01857   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a34221bbb3afb83430f8d21f59d8e5b1c">rename</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* newPath);
<a name="l01858"></a>01858   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a8565ae91a87acd4ed1a648e52e51ce13">rmdir</a>();
<a name="l01859"></a>01859   <span class="comment">// for backward compatibility</span>
<a name="l01860"></a><a class="code" href="class_sd_base_file.html#ae2acaa045ad377689b6786197a157288">01860</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ae2acaa045ad377689b6786197a157288">rmDir</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a8565ae91a87acd4ed1a648e52e51ce13">rmdir</a>();}
<a name="l01861"></a>01861   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a5cbe5f8201b8457438d219e6b33b42bf">rmRfStar</a>();
<a name="l01866"></a><a class="code" href="class_sd_base_file.html#ae79988724675a378d01d9158b1b8b667">01866</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ae79988724675a378d01d9158b1b8b667">seekCur</a>(int32_t offset) {
<a name="l01867"></a>01867     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a37e6f66b2ccbd829cf7a62a5d3bcc0b3">seekSet</a>(<a class="code" href="class_sd_base_file.html#ade9334005143268ed5c81348abbffb4b">curPosition_</a> + offset);
<a name="l01868"></a>01868   }
<a name="l01873"></a><a class="code" href="class_sd_base_file.html#ae7667637428e752e4ff64e07c2e88c92">01873</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ae7667637428e752e4ff64e07c2e88c92">seekEnd</a>(int32_t offset = 0) {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a37e6f66b2ccbd829cf7a62a5d3bcc0b3">seekSet</a>(<a class="code" href="class_sd_base_file.html#a95d9791fe91d8b1385fc1f11b1dccb83">fileSize_</a> + offset);}
<a name="l01874"></a>01874   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a37e6f66b2ccbd829cf7a62a5d3bcc0b3">seekSet</a>(uint32_t pos);
<a name="l01875"></a>01875   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a3eb7f41182c04388c951db242c13f845">sync</a>();
<a name="l01876"></a>01876   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a65d54c8f0cc5089edbd0b08eb3e7830e">timestamp</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* file);
<a name="l01877"></a>01877   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a65d54c8f0cc5089edbd0b08eb3e7830e">timestamp</a>(uint8_t flag, uint16_t year, uint8_t month, uint8_t day,
<a name="l01878"></a>01878           uint8_t hour, uint8_t minute, uint8_t second);
<a name="l01884"></a><a class="code" href="class_sd_base_file.html#a7c3e8c8aa22970484617493a084000b9">01884</a>   uint8_t <a class="code" href="class_sd_base_file.html#a7c3e8c8aa22970484617493a084000b9">type</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>;}
<a name="l01885"></a>01885   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#aa0f431cd6c841a1a006aee221a8e411d">truncate</a>(uint32_t size);
<a name="l01887"></a><a class="code" href="class_sd_base_file.html#aed2457152a60a9f78da3c34813e396d0">01887</a>   <a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a>* <a class="code" href="class_sd_base_file.html#aed2457152a60a9f78da3c34813e396d0">volume</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a63016fa006e3d5ca83b84d58fc49de23">vol_</a>;}
<a name="l01888"></a>01888   int16_t <a class="code" href="class_sd_base_file.html#ac2cd3987fc778298bd4c23a4d53fbfd7">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, uint16_t nbyte);
<a name="l01889"></a>01889 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01890"></a>01890  <span class="keyword">public</span>:
<a name="l01891"></a>01891   <span class="comment">// allow SdFat to set cwd_</span>
<a name="l01892"></a><a class="code" href="class_sd_base_file.html#ac838f1e6beb01ec57bd4b52e57df85e7">01892</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_sd_fat.html" title="Integration class for the SdFat library.">SdFat</a>;
<a name="l01893"></a>01893   <span class="comment">// global pointer to cwd dir</span>
<a name="l01894"></a><a class="code" href="class_sd_base_file.html#a00928c3349d354109e2413bcc58c5701">01894</a>   <span class="keyword">static</span> <a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* <a class="code" href="class_sd_base_file.html#a00928c3349d354109e2413bcc58c5701">cwd_</a>;
<a name="l01895"></a>01895   <span class="comment">// data time callback function</span>
<a name="l01896"></a><a class="code" href="class_sd_base_file.html#a0fbdf53a669c68035108f7e71804ebc2">01896</a>   <span class="keyword">static</span> void (*<a class="code" href="class_sd_base_file.html#a0fbdf53a669c68035108f7e71804ebc2">dateTime_</a>)(uint16_t* date, uint16_t* time);
<a name="l01897"></a>01897   <span class="comment">// bits defined in flags_</span>
<a name="l01898"></a>01898   <span class="comment">// should be 0X0F</span>
<a name="l01899"></a><a class="code" href="class_sd_base_file.html#aba9e279d9dcd886c9ed2ceb557fdecef">01899</a>   <span class="keyword">static</span> uint8_t <span class="keyword">const</span> <a class="code" href="class_sd_base_file.html#aba9e279d9dcd886c9ed2ceb557fdecef">F_OFLAG</a> = (<a class="code" href="_sd_fat_8h.html#a4efda39151f5ef2dc7fbd138be51336a">O_ACCMODE</a> | <a class="code" href="_sd_fat_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a> | <a class="code" href="_sd_fat_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a>);
<a name="l01900"></a>01900   <span class="comment">// sync of directory entry required</span>
<a name="l01901"></a><a class="code" href="class_sd_base_file.html#a6254189769a26f9cb550358dd8b3db26">01901</a>   <span class="keyword">static</span> uint8_t <span class="keyword">const</span> <a class="code" href="class_sd_base_file.html#a6254189769a26f9cb550358dd8b3db26">F_FILE_DIR_DIRTY</a> = 0X80;
<a name="l01902"></a>01902 
<a name="l01903"></a>01903   <span class="comment">// private data</span>
<a name="l01904"></a><a class="code" href="class_sd_base_file.html#ab9bc8d18308217bd7df78a01eca175b3">01904</a>   uint8_t   <a class="code" href="class_sd_base_file.html#ab9bc8d18308217bd7df78a01eca175b3">flags_</a>;         <span class="comment">// See above for definition of flags_ bits</span>
<a name="l01905"></a><a class="code" href="class_sd_base_file.html#ae5269bbb9495f29e3f68ddaf24856fec">01905</a>   uint8_t   <a class="code" href="class_sd_base_file.html#ae5269bbb9495f29e3f68ddaf24856fec">fstate_</a>;        <span class="comment">// error and eof indicator</span>
<a name="l01906"></a><a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">01906</a>   uint8_t   <a class="code" href="class_sd_base_file.html#ac52855672d3aac6d0e3b2228ac9e19dc">type_</a>;          <span class="comment">// type of file see above for values</span>
<a name="l01907"></a><a class="code" href="class_sd_base_file.html#aff23051fbe8e6ad2efa75c06390047d5">01907</a>   uint32_t  <a class="code" href="class_sd_base_file.html#aff23051fbe8e6ad2efa75c06390047d5">curCluster_</a>;    <span class="comment">// cluster for current file position</span>
<a name="l01908"></a><a class="code" href="class_sd_base_file.html#ade9334005143268ed5c81348abbffb4b">01908</a>   uint32_t  <a class="code" href="class_sd_base_file.html#ade9334005143268ed5c81348abbffb4b">curPosition_</a>;   <span class="comment">// current file position in bytes from beginning</span>
<a name="l01909"></a><a class="code" href="class_sd_base_file.html#a99b330c30b74c2cf030c279593a4c1dc">01909</a>   uint32_t  <a class="code" href="class_sd_base_file.html#a99b330c30b74c2cf030c279593a4c1dc">dirBlock_</a>;      <span class="comment">// block for this files directory entry</span>
<a name="l01910"></a><a class="code" href="class_sd_base_file.html#adf65af6edbe7a86d1e94c7604c66ea51">01910</a>   uint8_t   <a class="code" href="class_sd_base_file.html#adf65af6edbe7a86d1e94c7604c66ea51">dirIndex_</a>;      <span class="comment">// index of directory entry in dirBlock</span>
<a name="l01911"></a><a class="code" href="class_sd_base_file.html#a95d9791fe91d8b1385fc1f11b1dccb83">01911</a>   uint32_t  <a class="code" href="class_sd_base_file.html#a95d9791fe91d8b1385fc1f11b1dccb83">fileSize_</a>;      <span class="comment">// file size in bytes</span>
<a name="l01912"></a><a class="code" href="class_sd_base_file.html#a3ef82733a6bdd87b2f4a3128d2ad510d">01912</a>   uint32_t  <a class="code" href="class_sd_base_file.html#a3ef82733a6bdd87b2f4a3128d2ad510d">firstCluster_</a>;  <span class="comment">// first cluster of file</span>
<a name="l01913"></a><a class="code" href="class_sd_base_file.html#a63016fa006e3d5ca83b84d58fc49de23">01913</a>   <a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a>* <a class="code" href="class_sd_base_file.html#a63016fa006e3d5ca83b84d58fc49de23">vol_</a>;           <span class="comment">// volume where file is located</span>
<a name="l01914"></a>01914 
<a name="l01916"></a>01916   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#adb95113ff5d9b9ef071e06ecc27ad7fa">openParent</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dir);
<a name="l01917"></a>01917   <span class="comment">// private functions</span>
<a name="l01918"></a>01918   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a2e2cb16fcc27d66e464cecf298392019">addCluster</a>();
<a name="l01919"></a>01919   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ac249afd8063fe9a99294ea9902547478">addDirCluster</a>();
<a name="l01920"></a>01920   <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* <a class="code" href="class_sd_base_file.html#aae06fb5c45eef10196905a0227feceef">cacheDirEntry</a>(uint8_t action);
<a name="l01921"></a>01921   int8_t <a class="code" href="class_sd_base_file.html#a1cca2aaaf0ffc46996c40943062fb250">lsPrintNext</a>(Print *pr, uint8_t flags, uint8_t indent);
<a name="l01922"></a>01922   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#ac8ad97ceb89862568bdbe6dbe23605f9">make83Name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, uint8_t* name, <span class="keyword">const</span> <span class="keywordtype">char</span>** ptr);
<a name="l01923"></a>01923   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a204a0b140efe0da51252fab0fd3bddcc">mkdir</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* parent, <span class="keyword">const</span> uint8_t dname[11]);
<a name="l01924"></a>01924   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* dirFile, <span class="keyword">const</span> uint8_t dname[11], uint8_t oflag);
<a name="l01925"></a>01925   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a60f805a79ed58914758a998025ec4f54">openCachedEntry</a>(uint8_t cacheIndex, uint8_t oflags);
<a name="l01926"></a>01926   <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>* <a class="code" href="class_sd_base_file.html#adae59feaadf1b33cdbcb5e46a338980e">readDirCache</a>();
<a name="l01927"></a>01927 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01928"></a>01928 <span class="comment">// to be deleted</span>
<a name="l01929"></a>01929   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ae55cbdb1584e2f11592c493f42993629">printDirName</a>(<span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>&amp; dir,
<a name="l01930"></a>01930     uint8_t width, <span class="keywordtype">bool</span> printSlash);
<a name="l01931"></a>01931   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ae55cbdb1584e2f11592c493f42993629">printDirName</a>(Print* pr, <span class="keyword">const</span> <a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>&amp; dir,
<a name="l01932"></a>01932     uint8_t width, <span class="keywordtype">bool</span> printSlash);
<a name="l01933"></a>01933 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l01934"></a>01934 <span class="comment">// Deprecated functions  - suppress cpplint warnings with NOLINT comment</span>
<a name="l01935"></a>01935 <span class="preprocessor">#if ALLOW_DEPRECATED_FUNCTIONS &amp;&amp; !defined(DOXYGEN)</span>
<a name="l01936"></a>01936 <span class="preprocessor"></span>
<a name="l01937"></a>01937  <span class="keyword">public</span>:
<a name="l01944"></a><a class="code" href="class_sd_base_file.html#a0426dcf523a5e03e2f0c74c74818813a">01944</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a0426dcf523a5e03e2f0c74c74818813a">contiguousRange</a>(uint32_t&amp; bgnBlock, uint32_t&amp; endBlock) {  <span class="comment">// NOLINT</span>
<a name="l01945"></a>01945     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a1934f84b25a170fbdfbee1f874c7a315">contiguousRange</a>(&amp;bgnBlock, &amp;endBlock);
<a name="l01946"></a>01946   }
<a name="l01955"></a><a class="code" href="class_sd_base_file.html#ae972bb88d39f16ec1ddf0e2875d6c9c0">01955</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#aa541db9563ce4a0b765b11b10f76b449">createContiguous</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dirFile,  <span class="comment">// NOLINT</span>
<a name="l01956"></a>01956     <span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint32_t size) {
<a name="l01957"></a>01957     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#aa541db9563ce4a0b765b11b10f76b449">createContiguous</a>(&amp;dirFile, path, size);
<a name="l01958"></a>01958   }
<a name="l01964"></a><a class="code" href="class_sd_base_file.html#a9342a99088a514724a56e941a9851602">01964</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#ae89cdf7331e346cc8b7ce4a935c5b3e5">dateTimeCallback</a>(
<a name="l01965"></a>01965     <span class="keywordtype">void</span> (*dateTime)(uint16_t&amp; date, uint16_t&amp; time)) {  <span class="comment">// NOLINT</span>
<a name="l01966"></a>01966     <a class="code" href="class_sd_base_file.html#a065270f4bcd49e3cd298c20d8b30b59a">oldDateTime_</a> = dateTime;
<a name="l01967"></a>01967     <a class="code" href="class_sd_base_file.html#a0fbdf53a669c68035108f7e71804ebc2">dateTime_</a> = dateTime ? <a class="code" href="class_sd_base_file.html#a0c24497d7d8d84b02a15703e5d6d787c">oldToNew</a> : 0;
<a name="l01968"></a>01968   }
<a name="l01973"></a><a class="code" href="class_sd_base_file.html#a91a0fdd9114ce337f732cde0c68da60a">01973</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a91a0fdd9114ce337f732cde0c68da60a">dirEntry</a>(<a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>&amp; dir) {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a91a0fdd9114ce337f732cde0c68da60a">dirEntry</a>(&amp;dir);}  <span class="comment">// NOLINT</span>
<a name="l01981"></a><a class="code" href="class_sd_base_file.html#adf75e2853f3eccf36f4af272004e375c">01981</a> <span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#adf75e2853f3eccf36f4af272004e375c">mkdir</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dir, <span class="keyword">const</span> <span class="keywordtype">char</span>* path) {  <span class="comment">// NOLINT</span>
<a name="l01982"></a>01982     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a204a0b140efe0da51252fab0fd3bddcc">mkdir</a>(&amp;dir, path);
<a name="l01983"></a>01983   }
<a name="l01993"></a><a class="code" href="class_sd_base_file.html#a25c3ee43cff053a6f1a0cfea386dec4b">01993</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dirFile, <span class="comment">// NOLINT</span>
<a name="l01994"></a>01994     <span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t oflag) {
<a name="l01995"></a>01995     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(&amp;dirFile, path, oflag);
<a name="l01996"></a>01996   }
<a name="l02003"></a><a class="code" href="class_sd_base_file.html#adc63535d800dd20592cb1c3a496ed1a0">02003</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#adc63535d800dd20592cb1c3a496ed1a0">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dirFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* path) {  <span class="comment">// NOLINT</span>
<a name="l02004"></a>02004     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(dirFile, path, <a class="code" href="_sd_fat_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a>);
<a name="l02005"></a>02005   }
<a name="l02015"></a><a class="code" href="class_sd_base_file.html#a2ce81d60ae6a0b36acca0f4f8d3b7545">02015</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a2ce81d60ae6a0b36acca0f4f8d3b7545">open</a>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dirFile, uint16_t index, uint8_t oflag) {  <span class="comment">// NOLINT</span>
<a name="l02016"></a>02016     <span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a52c7074d47cf3798184d1fbaa7d2711a">open</a>(&amp;dirFile, index, oflag);
<a name="l02017"></a>02017   }
<a name="l02022"></a><a class="code" href="class_sd_base_file.html#a332db691b2bbad3fd8976abaf5a39261">02022</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_base_file.html#a332db691b2bbad3fd8976abaf5a39261">openRoot</a>(<a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a>&amp; <a class="code" href="class_sd_fat.html#a20e558523fde8b36ef1085018c270e0a">vol</a>) {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a332db691b2bbad3fd8976abaf5a39261">openRoot</a>(&amp;vol);}  <span class="comment">// NOLINT</span>
<a name="l02027"></a><a class="code" href="class_sd_base_file.html#a751e8b0edf4238abdde246d6346653b0">02027</a> <span class="comment"></span>  int8_t <a class="code" href="class_sd_base_file.html#a751e8b0edf4238abdde246d6346653b0">readDir</a>(<a class="code" href="structdirectory_entry.html" title="FAT short directory entry.">dir_t</a>&amp; dir) {<span class="keywordflow">return</span> <a class="code" href="class_sd_base_file.html#a751e8b0edf4238abdde246d6346653b0">readDir</a>(&amp;dir);}  <span class="comment">// NOLINT</span>
<a name="l02034"></a><a class="code" href="class_sd_base_file.html#a70236419166e77de26913c0214d22040">02034</a> <span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>&amp; dirFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* path) {  <span class="comment">// NOLINT</span>
<a name="l02035"></a>02035     <span class="keywordflow">return</span> <span class="keyword">remove</span>(&amp;dirFile, path);
<a name="l02036"></a>02036   }
<a name="l02037"></a>02037 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l02038"></a>02038 <span class="comment">// rest are private</span>
<a name="l02039"></a>02039  <span class="keyword">private</span>:
<a name="l02040"></a><a class="code" href="class_sd_base_file.html#a065270f4bcd49e3cd298c20d8b30b59a">02040</a>   <span class="keyword">static</span> void (*<a class="code" href="class_sd_base_file.html#a065270f4bcd49e3cd298c20d8b30b59a">oldDateTime_</a>)(uint16_t&amp; date, uint16_t&amp; time);  <span class="comment">// NOLINT</span>
<a name="l02041"></a><a class="code" href="class_sd_base_file.html#a0c24497d7d8d84b02a15703e5d6d787c">02041</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_base_file.html#a0c24497d7d8d84b02a15703e5d6d787c">oldToNew</a>(uint16_t* date, uint16_t* time) {
<a name="l02042"></a>02042     uint16_t d;
<a name="l02043"></a>02043     uint16_t t;
<a name="l02044"></a>02044     <a class="code" href="class_sd_base_file.html#a065270f4bcd49e3cd298c20d8b30b59a">oldDateTime_</a>(d, t);
<a name="l02045"></a>02045     *date = d;
<a name="l02046"></a>02046     *time = t;
<a name="l02047"></a>02047   }
<a name="l02048"></a>02048 <span class="preprocessor">#endif  // ALLOW_DEPRECATED_FUNCTIONS</span>
<a name="l02049"></a>02049 <span class="preprocessor"></span>};
<a name="l02050"></a>02050 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l02055"></a><a class="code" href="class_sd_file.html">02055</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_sd_file.html" title="SdBaseFile with Print.">SdFile</a> : <span class="keyword">public</span> <a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>, <span class="keyword">public</span> Print {
<a name="l02056"></a>02056  <span class="keyword">public</span>:
<a name="l02057"></a><a class="code" href="class_sd_file.html#ad1f46fedf64b4195535e53cb31cc6974">02057</a>   <a class="code" href="class_sd_file.html#ad1f46fedf64b4195535e53cb31cc6974">SdFile</a>() {}
<a name="l02058"></a>02058   <a class="code" href="class_sd_file.html#ad1f46fedf64b4195535e53cb31cc6974">SdFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, uint8_t oflag);
<a name="l02060"></a><a class="code" href="class_sd_file.html#a9b199fded04cffe6a609465dce43fdcc">02060</a>   <span class="keywordtype">bool</span> <a class="code" href="class_sd_file.html#a9b199fded04cffe6a609465dce43fdcc">getWriteError</a>() {<span class="keywordflow">return</span> <a class="code" href="class_sd_file.html#a9b199fded04cffe6a609465dce43fdcc">SdBaseFile::getWriteError</a>();}
<a name="l02062"></a><a class="code" href="class_sd_file.html#af50f0c1e1c726ef3dee08a84456090b9">02062</a>   <span class="keywordtype">void</span> <a class="code" href="class_sd_file.html#af50f0c1e1c726ef3dee08a84456090b9">clearWriteError</a>() {<a class="code" href="class_sd_file.html#af50f0c1e1c726ef3dee08a84456090b9">SdBaseFile::clearWriteError</a>();}
<a name="l02063"></a>02063   <span class="keywordtype">size_t</span> <a class="code" href="class_sd_file.html#ac82b138293686567ab5dfbe3ba1fa1ee">write</a>(uint8_t b);
<a name="l02064"></a>02064   int16_t <a class="code" href="class_sd_file.html#ac82b138293686567ab5dfbe3ba1fa1ee">write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str);
<a name="l02065"></a>02065   int16_t <a class="code" href="class_sd_file.html#ac82b138293686567ab5dfbe3ba1fa1ee">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, uint16_t nbyte);
<a name="l02066"></a>02066   <span class="keywordtype">void</span> <a class="code" href="class_sd_file.html#af4dace00a7941e0936830200cb3fc9f9">write_P</a>(PGM_P str);
<a name="l02067"></a>02067   <span class="keywordtype">void</span> <a class="code" href="class_sd_file.html#a01a8e28448c6120f8de1db3f44c15da9">writeln_P</a>(PGM_P str);
<a name="l02068"></a>02068 };
<a name="l02070"></a><a class="code" href="_sd_fat_8h.html#a6d413885c384693a5c98de870c752ac5">02070</a> <span class="preprocessor">#define PgmPrint(x) SerialPrint_P(PSTR(x))</span>
<a name="l02071"></a>02071 <span class="preprocessor"></span>
<a name="l02072"></a><a class="code" href="_sd_fat_8h.html#a3b0de03c1185b3235b3c1e8a80ef281f">02072</a> <span class="preprocessor">#define PgmPrintln(x) SerialPrintln_P(PSTR(x))</span>
<a name="l02073"></a>02073 <span class="preprocessor"></span>
<a name="l02074"></a><a class="code" href="namespace_sd_fat_util.html">02074</a> <span class="keyword">namespace </span>SdFatUtil {
<a name="l02075"></a>02075   <span class="keywordtype">int</span> <a class="code" href="namespace_sd_fat_util.html#a9103b9a4934cfc4d5dea9e7fec7353d1">FreeRam</a>();
<a name="l02076"></a>02076   <span class="keywordtype">void</span> <a class="code" href="namespace_sd_fat_util.html#ad286914ceca90b6952327d90237d3e56">print_P</a>(Print* pr, PGM_P str);
<a name="l02077"></a>02077   <span class="keywordtype">void</span> <a class="code" href="namespace_sd_fat_util.html#a59f16a2fc62ff5c3af0ec2f10edaf6a1">println_P</a>(Print* pr, PGM_P str);
<a name="l02078"></a>02078   <span class="keywordtype">void</span> <a class="code" href="namespace_sd_fat_util.html#a97af8c0fb43dece0f32e5cbd36dfd34c">SerialPrint_P</a>(PGM_P str);
<a name="l02079"></a>02079   <span class="keywordtype">void</span> <a class="code" href="namespace_sd_fat_util.html#a9b4dae4ef11bfdf2458295c5b7ac9102">SerialPrintln_P</a>(PGM_P str);
<a name="l02080"></a>02080 }
<a name="l02081"></a>02081 
<a name="l02082"></a>02082 <span class="keyword">using namespace </span>SdFatUtil;  <span class="comment">// NOLINT</span>
<a name="l02083"></a>02083 
<a name="l02084"></a>02084 <span class="comment">//#include &lt;SdStream.h&gt;</span>
<a name="l02085"></a>02085 <span class="comment">//#include &lt;ArduinoStream.h&gt;</span>
<a name="l02086"></a>02086 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l02091"></a><a class="code" href="class_sd_fat.html">02091</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="class_sd_fat.html" title="Integration class for the SdFat library.">SdFat</a> {
<a name="l02092"></a>02092  <span class="keyword">public</span>:
<a name="l02093"></a><a class="code" href="class_sd_fat.html#aae557bf2fc77ba0b45b20727ff28667e">02093</a>   <a class="code" href="class_sd_fat.html#aae557bf2fc77ba0b45b20727ff28667e">SdFat</a>() {}
<a name="l02105"></a><a class="code" href="class_sd_fat.html#abb957a84fd9bc395b887952f0e962f7f">02105</a>   <span class="keywordtype">bool</span> begin(uint8_t chipSelectPin = <a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">SD_CHIP_SELECT_PIN</a>,
<a name="l02106"></a>02106     uint8_t sckRateID = <a class="code" href="_sd_fat_8h.html#a6c091c07d1eb82a94b1c5738f720264b">SPI_FULL_SPEED</a>) {
<a name="l02107"></a>02107     <span class="keywordflow">return</span> init(sckRateID, chipSelectPin);
<a name="l02108"></a>02108   }
<a name="l02110"></a><a class="code" href="class_sd_fat.html#aef4142d94f7839ca995258104689cb49">02110</a>   <a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a>* <a class="code" href="class_sd_fat.html#aef4142d94f7839ca995258104689cb49">card</a>() {<span class="keywordflow">return</span> &amp;card_;}
<a name="l02111"></a>02111   <span class="keywordtype">bool</span> chdir(<span class="keywordtype">bool</span> set_cwd = <span class="keyword">false</span>);
<a name="l02112"></a>02112   <span class="keywordtype">bool</span> chdir(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">bool</span> set_cwd = <span class="keyword">false</span>);
<a name="l02113"></a>02113   <span class="keywordtype">void</span> chvol();
<a name="l02114"></a>02114   <span class="keywordtype">void</span> errorHalt();
<a name="l02115"></a>02115   <span class="keywordtype">void</span> errorHalt_P(PGM_P msg);
<a name="l02116"></a>02116   <span class="keywordtype">void</span> errorHalt(<span class="keywordtype">char</span> <span class="keyword">const</span> *msg);
<a name="l02117"></a>02117   <span class="keywordtype">void</span> errorPrint();
<a name="l02118"></a>02118   <span class="keywordtype">void</span> errorPrint_P(PGM_P msg);
<a name="l02119"></a>02119   <span class="keywordtype">void</span> errorPrint(<span class="keywordtype">char</span> <span class="keyword">const</span> *msg);
<a name="l02120"></a>02120   <span class="keywordtype">bool</span> exists(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
<a name="l02121"></a>02121   <span class="keywordtype">bool</span> init(uint8_t sckRateID = <a class="code" href="_sd_fat_8h.html#a6c091c07d1eb82a94b1c5738f720264b">SPI_FULL_SPEED</a>,
<a name="l02122"></a>02122     uint8_t chipSelectPin = <a class="code" href="_sd_fat_8h.html#ae6b17538c14ba6c91ccb513db2c4c29c">SD_CHIP_SELECT_PIN</a>);
<a name="l02123"></a>02123   <span class="keywordtype">void</span> initErrorHalt();
<a name="l02124"></a>02124   <span class="keywordtype">void</span> initErrorHalt(<span class="keywordtype">char</span> <span class="keyword">const</span> *msg);
<a name="l02125"></a>02125   <span class="keywordtype">void</span> initErrorHalt_P(PGM_P msg);
<a name="l02126"></a>02126   <span class="keywordtype">void</span> initErrorPrint();
<a name="l02127"></a>02127   <span class="keywordtype">void</span> initErrorPrint(<span class="keywordtype">char</span> <span class="keyword">const</span> *msg);
<a name="l02128"></a>02128   <span class="keywordtype">void</span> initErrorPrint_P(PGM_P msg);
<a name="l02129"></a>02129   <span class="keywordtype">void</span> ls(uint8_t flags = 0);
<a name="l02130"></a>02130   <span class="keywordtype">void</span> ls(Print* pr, uint8_t flags = 0);
<a name="l02131"></a>02131   <span class="keywordtype">bool</span> mkdir(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">bool</span> pFlag = <span class="keyword">true</span>);
<a name="l02132"></a>02132   <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path);
<a name="l02133"></a>02133   <span class="keywordtype">bool</span> rename(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldPath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newPath);
<a name="l02134"></a>02134   <span class="keywordtype">bool</span> rmdir(<span class="keyword">const</span> <span class="keywordtype">char</span>* path);
<a name="l02135"></a>02135   <span class="keywordtype">bool</span> truncate(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint32_t length);
<a name="l02137"></a><a class="code" href="class_sd_fat.html#a20e558523fde8b36ef1085018c270e0a">02137</a>   <a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a>* <a class="code" href="class_sd_fat.html#a20e558523fde8b36ef1085018c270e0a">vol</a>() {<span class="keywordflow">return</span> &amp;vol_;}
<a name="l02139"></a><a class="code" href="class_sd_fat.html#ad8a32a2789b135cc0fafc9964cfb2d31">02139</a>   <a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a>* <a class="code" href="class_sd_fat.html#ad8a32a2789b135cc0fafc9964cfb2d31">vwd</a>() {<span class="keywordflow">return</span> &amp;vwd_;}
<a name="l02140"></a>02140   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l02141"></a>02141   <span class="comment">// static functions for stdOut</span>
<a name="l02146"></a><a class="code" href="class_sd_fat.html#a625a8635c2db7a668fc93f82766688f9">02146</a> <span class="comment"></span>  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_sd_fat.html#a625a8635c2db7a668fc93f82766688f9">setStdOut</a>(Print* stream) {stdOut_ = stream;}
<a name="l02148"></a><a class="code" href="class_sd_fat.html#a957df3529dafdd6ed3e17b23b4efbf27">02148</a>   <span class="keyword">static</span> Print* <a class="code" href="class_sd_fat.html#a957df3529dafdd6ed3e17b23b4efbf27">stdOut</a>() {<span class="keywordflow">return</span> stdOut_;}
<a name="l02149"></a>02149 
<a name="l02150"></a>02150  <span class="keyword">private</span>:
<a name="l02151"></a><a class="code" href="class_sd_fat.html#a1b169bdfeb406ef2e6fb77bb1c06ce26">02151</a>   <a class="code" href="class_sd2_card.html" title="Raw access to SD and SDHC flash memory cards.">Sd2Card</a> <a class="code" href="class_sd_fat.html#a1b169bdfeb406ef2e6fb77bb1c06ce26">card_</a>;
<a name="l02152"></a><a class="code" href="class_sd_fat.html#aa76bab2a76aa11b7fa39d963a1782130">02152</a>   <a class="code" href="class_sd_volume.html" title="Access FAT16 and FAT32 volumes on SD and SDHC cards.">SdVolume</a> <a class="code" href="class_sd_fat.html#aa76bab2a76aa11b7fa39d963a1782130">vol_</a>;
<a name="l02153"></a><a class="code" href="class_sd_fat.html#a72ad0dde47cbd5a6aeb6786955148736">02153</a>   <a class="code" href="class_sd_base_file.html" title="Base class for SdFile with Print and C++ streams.">SdBaseFile</a> <a class="code" href="class_sd_fat.html#a72ad0dde47cbd5a6aeb6786955148736">vwd_</a>;
<a name="l02154"></a><a class="code" href="class_sd_fat.html#a7836b2cfa542d5f1b1d2373318aa02e2">02154</a>   <span class="keyword">static</span> Print* <a class="code" href="class_sd_fat.html#a7836b2cfa542d5f1b1d2373318aa02e2">stdOut_</a>;
<a name="l02155"></a>02155 };
<a name="l02156"></a>02156 <span class="preprocessor">#endif  // SdFat_h</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_sd_fat_8h.html">SdFat.h</a>      </li>

    <li class="footer">Generated on Fri Jan 11 2013 18:39:23 for Repetier-Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
