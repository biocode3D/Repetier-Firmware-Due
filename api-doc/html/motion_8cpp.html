<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Repetier-Firmware: Repetier/motion.cpp File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="repetier-logo-trans128.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Repetier-Firmware
   &#160;<span id="projectnumber">0.80</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('motion_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Repetier/motion.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_reptier_8h_source.html">Reptier.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a42e7fa1e5464d85be6036d7989aa36e6">U16SquaredToU32</a> (unsigned int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a2068ab2eeb1958d3baaa48f6b3e49279">computeMaxJunctionSpeed</a> (<a class="el" href="struct_print_line.html">PrintLine</a> *p1, <a class="el" href="struct_print_line.html">PrintLine</a> *p2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#adf6a7cb291c016fdbefd2e795f610ae0">updateStepsParameter</a> (<a class="el" href="struct_print_line.html">PrintLine</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a84460b541bce50d1df5020c386507899">testnum</a> (float x, char c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a8b195a6b2ca2d37261b869cbd45a6997">backwardPlanner</a> (byte p, byte last)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a2b4fee83334c920bb2ceb234336bd8fa">forwardPlanner</a> (byte p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a4edeadbc946c68b6e89af7fcac7bab3b">updateTrapezoids</a> (byte p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#ade2454036639a692fd63a9cdffe9f6c4">safeSpeed</a> (<a class="el" href="struct_print_line.html">PrintLine</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a4cd9fbb08dc435925db16932af1cb6f3">move_steps</a> (long x, long y, long z, long e, float feedrate, bool waitEnd, bool check_endstop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a09262c69cca862b10d4b4a3cb36fae8d">check_new_move</a> (byte pathOptimize, byte waitExtraLines)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a894fed44d5b55de578a69f8a3636d549">log_long_array</a> (PGM_P ptr, long *arr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#abe4824e0c9e73d6b27aca1f6d7a90405">log_float_array</a> (PGM_P ptr, float *arr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a84855e7a4c95efd4be35e57b768e24ba">log_printLine</a> (<a class="el" href="struct_print_line.html">PrintLine</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#a20ce21964641a1ca00756ef832206d0d">calculate_move</a> (<a class="el" href="struct_print_line.html">PrintLine</a> *p, float axis_diff[], byte check_endstops, byte pathOptimize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motion_8cpp.html#ad4aa9634974ee66e47d58a1fd3a1027c">queue_move</a> (byte check_endstops, byte pathOptimize)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8b195a6b2ca2d37261b869cbd45a6997"></a><!-- doxytag: member="motion.cpp::backwardPlanner" ref="a8b195a6b2ca2d37261b869cbd45a6997" args="(byte p, byte last)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a8b195a6b2ca2d37261b869cbd45a6997">backwardPlanner</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the maximum speed from the last entered move. The backwards planner traverses the moves from last to first looking at deceleration. The RHS of the accelerate/decelerate ramp.</p>
<p>p = last line inserted last = last element until we check </p>

</div>
</div>
<a class="anchor" id="a20ce21964641a1ca00756ef832206d0d"></a><!-- doxytag: member="motion.cpp::calculate_move" ref="a20ce21964641a1ca00756ef832206d0d" args="(PrintLine *p, float axis_diff[], byte check_endstops, byte pathOptimize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a20ce21964641a1ca00756ef832206d0d">calculate_move</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>axis_diff</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>check_endstops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>pathOptimize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a09262c69cca862b10d4b4a3cb36fae8d"></a><!-- doxytag: member="motion.cpp::check_new_move" ref="a09262c69cca862b10d4b4a3cb36fae8d" args="(byte pathOptimize, byte waitExtraLines)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte <a class="el" href="motion_8cpp.html#a09262c69cca862b10d4b4a3cb36fae8d">check_new_move</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>pathOptimize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>waitExtraLines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if move is new. If it is insert some dummy moves to allow the path optimizer to work since it does not act on the first two moves in the queue. The stepper timer will spot these moves and leave some time for processing. </p>

</div>
</div>
<a class="anchor" id="a2068ab2eeb1958d3baaa48f6b3e49279"></a><!-- doxytag: member="motion.cpp::computeMaxJunctionSpeed" ref="a2068ab2eeb1958d3baaa48f6b3e49279" args="(PrintLine *p1, PrintLine *p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a2068ab2eeb1958d3baaa48f6b3e49279">computeMaxJunctionSpeed</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Computes the maximum junction speed</p>
<p>p1 = previous segment p2 = new segment </p>

</div>
</div>
<a class="anchor" id="a2b4fee83334c920bb2ceb234336bd8fa"></a><!-- doxytag: member="motion.cpp::forwardPlanner" ref="a2b4fee83334c920bb2ceb234336bd8fa" args="(byte p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a2b4fee83334c920bb2ceb234336bd8fa">forwardPlanner</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abe4824e0c9e73d6b27aca1f6d7a90405"></a><!-- doxytag: member="motion.cpp::log_float_array" ref="abe4824e0c9e73d6b27aca1f6d7a90405" args="(PGM_P ptr, float *arr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#abe4824e0c9e73d6b27aca1f6d7a90405">log_float_array</a> </td>
          <td>(</td>
          <td class="paramtype">PGM_P&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a894fed44d5b55de578a69f8a3636d549"></a><!-- doxytag: member="motion.cpp::log_long_array" ref="a894fed44d5b55de578a69f8a3636d549" args="(PGM_P ptr, long *arr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a894fed44d5b55de578a69f8a3636d549">log_long_array</a> </td>
          <td>(</td>
          <td class="paramtype">PGM_P&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a84855e7a4c95efd4be35e57b768e24ba"></a><!-- doxytag: member="motion.cpp::log_printLine" ref="a84855e7a4c95efd4be35e57b768e24ba" args="(PrintLine *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a84855e7a4c95efd4be35e57b768e24ba">log_printLine</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4cd9fbb08dc435925db16932af1cb6f3"></a><!-- doxytag: member="motion.cpp::move_steps" ref="a4cd9fbb08dc435925db16932af1cb6f3" args="(long x, long y, long z, long e, float feedrate, bool waitEnd, bool check_endstop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_reptier_8h.html#a4cd9fbb08dc435925db16932af1cb6f3">move_steps</a> </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>feedrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>waitEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_endstop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Move printer the given number of steps. Puts the move into the queue. Used by e.g. homing commands. </p>

</div>
</div>
<a class="anchor" id="ad4aa9634974ee66e47d58a1fd3a1027c"></a><!-- doxytag: member="motion.cpp::queue_move" ref="ad4aa9634974ee66e47d58a1fd3a1027c" args="(byte check_endstops, byte pathOptimize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_reptier_8h.html#ad4aa9634974ee66e47d58a1fd3a1027c">queue_move</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>check_endstops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>pathOptimize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put a move to the current destination coordinates into the movement cache. If the cache is full, the method will wait, until a place gets free. During wait communication and temperature control is enabled. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">check_endstops</td><td>Read endstop during move. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ade2454036639a692fd63a9cdffe9f6c4"></a><!-- doxytag: member="motion.cpp::safeSpeed" ref="ade2454036639a692fd63a9cdffe9f6c4" args="(PrintLine *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="motion_8cpp.html#ade2454036639a692fd63a9cdffe9f6c4">safeSpeed</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a84460b541bce50d1df5020c386507899"></a><!-- doxytag: member="motion.cpp::testnum" ref="a84460b541bce50d1df5020c386507899" args="(float x, char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a84460b541bce50d1df5020c386507899">testnum</a> </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a42e7fa1e5464d85be6036d7989aa36e6"></a><!-- doxytag: member="motion.cpp::U16SquaredToU32" ref="a42e7fa1e5464d85be6036d7989aa36e6" args="(unsigned int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long <a class="el" href="motion_8cpp.html#a42e7fa1e5464d85be6036d7989aa36e6">U16SquaredToU32</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="adf6a7cb291c016fdbefd2e795f610ae0"></a><!-- doxytag: member="motion.cpp::updateStepsParameter" ref="adf6a7cb291c016fdbefd2e795f610ae0" args="(PrintLine *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="_reptier_8h.html#adf6a7cb291c016fdbefd2e795f610ae0">updateStepsParameter</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_print_line.html">PrintLine</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update parameter used by updateTrapezoids</p>
<p>Computes the acceleration/decelleration steps and advanced parameter associated. </p>

</div>
</div>
<a class="anchor" id="a4edeadbc946c68b6e89af7fcac7bab3b"></a><!-- doxytag: member="motion.cpp::updateTrapezoids" ref="a4edeadbc946c68b6e89af7fcac7bab3b" args="(byte p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="motion_8cpp.html#a4edeadbc946c68b6e89af7fcac7bab3b">updateTrapezoids</a> </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is the path planner.</p>
<p>It goes from the last entry and tries to increase the end speed of previous moves in a fashion that the maximum jerk is never exceeded. If a segment with reached maximum speed is met, the planner stops. Everything left from this is already optimal from previous updates. The first 2 entries in the queue are not checked. The first is the one that is already in print and the following will likely become active.</p>
<p>The method is called before lines_count is increased! </p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="motion_8cpp.html">motion.cpp</a>      </li>

    <li class="footer">Generated on Fri Jan 11 2013 18:39:23 for Repetier-Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
